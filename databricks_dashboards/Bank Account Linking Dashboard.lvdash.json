{
  "datasets": [
    {
      "name": "d4886089",
      "displayName": "BAL Properties",
      "queryLines": [
        "WITH bal_enabled_properties AS (\n",
        "SELECT\n",
        "      prop.id as property_id\n",
        "    , prop.name as property_name\n",
        "    , pf.updated_at AS date_bal_enabled\n",
        "FROM rds.pg_rds_public.properties prop\n",
        "RIGHT JOIN rds.pg_rds_public.property_features pf on prop.id = pf.property_id\n",
        "WHERE pf.feature_code = \"bank_linking\"\n",
        "AND pf.state = 'enabled'\n",
        "AND prop.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "),\n",
        "\n",
        "-- TODO: delete after verifying dataset\n",
        "-- with bal_enabled_properties as (\n",
        "-- SELECT prop.id as property_id, prop.name as property_name\n",
        "-- , case when\n",
        "--     min(rcj.snapshot_time) >= timestamp('2025-06-26 00:00:00') AND\n",
        "--     min(rcj.snapshot_time) < timestamp('2025-06-26 23:59:59') \n",
        "--   THEN timestamp('2025-06-24 17:00:00') \n",
        "--   ELSE min(rcj.snapshot_time)       \n",
        "--     END \n",
        "--     AS bal_enabled_date\n",
        "-- FROM product_engineering_ops.launchdarkly.rule_clause_changes_job rcj\n",
        "-- JOIN rds.pg_rds_public.properties prop on prop.short_id= rcj.values\n",
        "-- WHERE rcj.feature_flag_key=\"bank-linking-dup-experience\"\n",
        "-- and rcj.environment_name=\"Production\"\n",
        "-- and prop.id not in (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "-- GROUP BY 1, 2\n",
        "\n",
        "-- ),\n",
        "\n",
        "integration_status as (\n",
        "\n",
        "select\n",
        "      prop.id as property_id\n",
        "    , prop.name as property_name\n",
        "    , CAST(date_trunc('month', prop.inserted_at) AS DATE)  as onboarded_month\n",
        "    , prop.unit as num_units\n",
        "    , prop.status\n",
        "    , case when prop.status=\"DISABLED\" THEN prop.updated_at ELSE null END as deactivated_date\n",
        "    , case when prop.pmc_name is not null then prop.pmc_name ELSE comp.name  END as company_name\n",
        "    , case when ep.id is not null \n",
        "        OR prop.company_id IN ( select company_id\n",
        "        from rds.pg_rds_public.api_keys ak \n",
        "        where role_id = 12\n",
        "            and is_active =true\n",
        "            and (description not like '%Extract' \n",
        "                and description not like '%Demo%' \n",
        "                and description not like '%Viv%' \n",
        "                and description not like '%QA%'))  \n",
        "            THEN 'yes' ELSE 'no' END as uses_integration\n",
        "    , eic.type as outbound_integration_PMS\n",
        "    , case when prop.pmc_name is not null\n",
        "            THEN comp.name ELSE null END as inbound_integration_PMS\n",
        "    , prop.pmc_name as inbound_integration_PMC\n",
        "    , ep.integration_details\n",
        "    --, ep.integration_workflows\n",
        "    , pf.iv_enabled\n",
        "    , pf.iv_updated_at as iv_enabled_at\n",
        "    , pf.payroll_linking_enabled\n",
        "    , pf.payroll_linking_updated_at as payroll_linking_enabled_at\n",
        "    -- , pf.bank_linking_enabled\n",
        "    -- , pf.bank_linking_updated_at as bank_linking_enabled_at\n",
        "    , prop.identity_verification_enabled\n",
        "from rds.pg_rds_public.properties prop\n",
        "left join rds.pg_rds_enterprise_public.enterprise_property ep\n",
        "    ON ep.snappt_property_id=prop.id\n",
        "    --and ep.integration_deactivation_date is null\n",
        "LEFT JOIN rds.pg_rds_enterprise_public.enterprise_integration_configuration eic\n",
        "    ON eic.id=ep.enterprise_integration_id\n",
        "    and eic.deleted_at is null \n",
        "    and eic.name not like 'Snappt Integration'  \n",
        "LEFT JOIN rds.pg_rds_public.api_keys api_keys\n",
        "    ON api_keys.property_id=prop.id\n",
        "JOIN rds.pg_rds_public.companies comp\n",
        "    ON comp.id=prop.company_id\n",
        "LEFT JOIN product.fde.unity_agg_property_features pf\n",
        "    ON pf.property_id=prop.id\n",
        "WHERE 1=1\n",
        "\n",
        ")\n",
        "\n",
        "\n",
        "SELECT \n",
        "      p.id as property_id\n",
        "    , p.short_id as property_short_id\n",
        "    , p.name as property_name\n",
        "    , concat(p.address, \", \", p.city, \", \", p.state, \" \", p.zip ) as property_full_address\n",
        "    , comp.name as company_name\n",
        "    , p.unit as property_units\n",
        "    , date_bal_enabled\n",
        "    , intstatus.uses_integration\n",
        "    , coalesce(intstatus.inbound_integration_PMC, intstatus.outbound_integration_PMS) as PMS_integration\n",
        "    , MAX (case when date_bal_enabled is not null THEN 1 ELSE 0 END) as has_bank_linking\n",
        "    , SUM(case when pf.feature_code=\"payroll_linking\" THEN 1 ELSE 0 END) as has_connected_payroll\n",
        "    , MAX (case when pf.feature_code=\"payroll_linking\" THEN pf.updated_at ELSE NULL END) as date_connected_payroll_enabled\n",
        "    , SUM(case when pf.feature_code=\"income_verification\" THEN 1 ELSE 0 END) as has_income_verification\n",
        "    , MAX (case when pf.feature_code=\"income_verification\" THEN pf.updated_at ELSE NULL END) as date_income_verification_enabled\n",
        "FROM rds.pg_rds_public.properties p\n",
        "JOIN rds.pg_rds_public.property_features pf \n",
        "    ON p.id=pf.property_id\n",
        "JOIN bal_enabled_properties bal\n",
        "    ON bal.property_id=p.id\n",
        "JOIN rds.pg_rds_public.companies comp\n",
        "    ON comp.id=p.company_id\n",
        "JOIN integration_status intstatus\n",
        "    ON intstatus.property_id=p.id\n",
        "WHERE pf.state='enabled'\n",
        "AND p.status=\"ACTIVE\"\n",
        "AND (array_contains(:company, comp.name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, p.name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "GROUP BY 1,2,3,4,5, 6, 7,8,9\n",
        "ORDER BY 7 desc\n"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "a8e55c9a",
      "displayName": "Submission Level BAL Data",
      "queryLines": [
        "WITH bal_enabled_properties AS (\n",
        "SELECT\n",
        "      prop.id as property_id\n",
        "    , prop.name as property_name\n",
        "    , pf.updated_at AS date_bal_enabled\n",
        "FROM rds.pg_rds_public.properties prop\n",
        "RIGHT JOIN rds.pg_rds_public.property_features pf on prop.id = pf.property_id\n",
        "WHERE pf.feature_code = \"bank_linking\"\n",
        "AND pf.state = 'enabled'\n",
        "AND prop.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        ")\n",
        "\n",
        "SELECT \n",
        "  base.*,\n",
        "  CASE \n",
        "    WHEN bank.entry_id IS NOT NULL THEN 1 \n",
        "    ELSE 0 \n",
        "  END AS bank_account_linking_used,\n",
        "  CASE \n",
        "    WHEN base.is_calculated_status = 1 THEN 1\n",
        "    WHEN bank.entry_id IS NOT NULL AND base.submission_ruling = 'CLEAN' THEN 1\n",
        "    ELSE 0\n",
        "  END AS calculation_success_rate_with_BAL,\n",
        "    CASE\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NOT NULL THEN 'All'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NULL THEN 'Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NULL THEN 'Connected Payroll Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NOT NULL THEN 'Bank Linking and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NOT NULL THEN 'Both Connected Accounts'\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NULL THEN 'Connected Payroll and Documents Only'\n",
        "    WHEN bank.entry_id IS NOT NULL THEN 'Bank Linking Only'\n",
        "    ELSE 'Unknown'\n",
        "  END AS applicant_source_type\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results base\n",
        "LEFT JOIN (\n",
        "  SELECT DISTINCT e.id AS entry_id\n",
        "  FROM rds.pg_rds_public.applicant_submission_document_sources ds\n",
        "  JOIN rds.pg_rds_public.applicant_submissions app_sub\n",
        "    ON ds.applicant_submission_id = app_sub.id\n",
        "  JOIN rds.pg_rds_public.applicants app\n",
        "    ON app_sub.applicant_id = app.id\n",
        "  JOIN rds.pg_rds_public.entries e\n",
        "    ON e.id = app.entry_id\n",
        "  WHERE ds.source_type = 'BANK_LINKING'\n",
        ") bank\n",
        "  ON base.fde_submission_id = bank.entry_id\n",
        "JOIN rds.pg_rds_public.entries e\n",
        "  ON e.id=base.fde_submission_id\n",
        "JOIN rds.pg_rds_public.folders f\n",
        "  ON f.id=e.folder_id\n",
        "JOIN rds.pg_rds_public.properties prop\n",
        "  ON prop.id=f.property_id\n",
        "JOIN bal_enabled_properties bal\n",
        "  ON prop.id=bal.property_id\n",
        "WHERE (array_contains(:company, base.fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, base.fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "AND e.submission_time >= bal.date_bal_enabled\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "ORDER BY fde_submission_time desc"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "ed068ed4",
      "displayName": "Aggregate data v2 - USE THIS",
      "queryLines": [
        "WITH bal_enabled_properties AS (\n",
        "SELECT\n",
        "      prop.id as property_id\n",
        "    , prop.name as property_name\n",
        "    , pf.updated_at AS date_bal_enabled\n",
        "FROM rds.pg_rds_public.properties prop\n",
        "RIGHT JOIN rds.pg_rds_public.property_features pf on prop.id = pf.property_id\n",
        "WHERE pf.feature_code = \"bank_linking\"\n",
        "AND pf.state = 'enabled'\n",
        "AND prop.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        ")\n",
        "\n",
        "\n",
        "SELECT SUM(bank_account_linking_used)/count(*) as perc_submissions_with_bank_linking\n",
        ", SUM(calculation_success_rate_with_BAL)/SUM (case when submission_ruling =\"CLEAN\" THEN 1 ELSE 0 END) as calculation_success_rate_with_BAL\n",
        "FROM (\n",
        "\n",
        "SELECT \n",
        "  base.*,\n",
        "  CASE \n",
        "    WHEN bank.entry_id IS NOT NULL THEN 1 \n",
        "    ELSE 0 \n",
        "  END AS bank_account_linking_used,\n",
        "  CASE \n",
        "    WHEN base.is_calculated_status = 1 THEN 1\n",
        "    -- WHEN bank.entry_id IS NOT NULL AND base.\n",
        "    WHEN bank.entry_id IS NOT NULL AND base.submission_ruling = 'CLEAN' THEN 1\n",
        "    ELSE 0\n",
        "  END AS calculation_success_rate_with_BAL,\n",
        "    CASE\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NOT NULL THEN 'All'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NULL THEN 'Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NULL THEN 'Connected Payroll Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NOT NULL THEN 'Bank Linking and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NOT NULL THEN 'Both Connected Accounts'\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NULL THEN 'Connected Payroll and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'error' AND bank.entry_id IS NOT NULL THEN 'Bank Linking Only'\n",
        "    ELSE 'Unknown'\n",
        "  END AS applicant_source_type\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results base\n",
        "LEFT JOIN (\n",
        "  SELECT DISTINCT e.id AS entry_id\n",
        "  FROM rds.pg_rds_public.applicant_submission_document_sources ds\n",
        "  JOIN rds.pg_rds_public.applicant_submissions app_sub\n",
        "    ON ds.applicant_submission_id = app_sub.id\n",
        "  JOIN rds.pg_rds_public.applicants app\n",
        "    ON app_sub.applicant_id = app.id\n",
        "  JOIN rds.pg_rds_public.entries e\n",
        "    ON e.id = app.entry_id\n",
        "  WHERE ds.source_type = 'BANK_LINKING'\n",
        ") bank\n",
        "  ON base.fde_submission_id = bank.entry_id\n",
        "JOIN rds.pg_rds_public.entries e\n",
        "  ON e.id=base.fde_submission_id\n",
        "JOIN rds.pg_rds_public.folders f\n",
        "  ON f.id=e.folder_id\n",
        "JOIN rds.pg_rds_public.properties prop\n",
        "  ON prop.id=f.property_id\n",
        "JOIN bal_enabled_properties bal\n",
        "  ON prop.id=bal.property_id\n",
        "WHERE (array_contains(:company, base.fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, base.fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "AND e.submission_time >= bal.date_bal_enabled\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "ORDER BY fde_submission_time desc\n",
        ")"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "8c8a5e9c",
      "displayName": "Aggregate data Over Time Weekly - USE THIS",
      "queryLines": [
        "WITH bal_enabled_properties AS (\n",
        "SELECT\n",
        "      prop.id as property_id\n",
        "    , prop.name as property_name\n",
        "    , pf.updated_at AS date_bal_enabled\n",
        "FROM rds.pg_rds_public.properties prop\n",
        "RIGHT JOIN rds.pg_rds_public.property_features pf on prop.id = pf.property_id\n",
        "WHERE pf.feature_code = \"bank_linking\"\n",
        "AND pf.state = 'enabled'\n",
        "AND prop.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        ")\n",
        "\n",
        "\n",
        "SELECT date_trunc('WEEK', fde_submission_time) as week\n",
        ", SUM(bank_account_linking_used)/count(*) as perc_submissions_with_bank_linking\n",
        ", SUM(calculation_success_rate_with_BAL)/SUM (case when submission_ruling =\"CLEAN\" THEN 1 ELSE 0 END) as calculation_success_rate_with_BAL\n",
        "FROM (\n",
        "\n",
        "SELECT \n",
        "  base.*,\n",
        "  CASE \n",
        "    WHEN bank.entry_id IS NOT NULL THEN 1 \n",
        "    ELSE 0 \n",
        "  END AS bank_account_linking_used,\n",
        "  CASE \n",
        "    WHEN base.is_calculated_status = 1 THEN 1\n",
        "    WHEN bank.entry_id IS NOT NULL AND base.submission_ruling = 'CLEAN' THEN 1\n",
        "    ELSE 0\n",
        "  END AS calculation_success_rate_with_BAL,\n",
        "    CASE\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NOT NULL THEN 'All'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NULL THEN 'Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NULL THEN 'Connected Payroll Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NOT NULL THEN 'Bank Linking and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NOT NULL THEN 'Both Connected Accounts'\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NULL THEN 'Connected Payroll and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'error' AND bank.entry_id IS NOT NULL THEN 'Bank Linking Only'\n",
        "    ELSE 'Unknown'\n",
        "  END AS applicant_source_type\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results base\n",
        "LEFT JOIN (\n",
        "  SELECT DISTINCT e.id AS entry_id\n",
        "  FROM rds.pg_rds_public.applicant_submission_document_sources ds\n",
        "  JOIN rds.pg_rds_public.applicant_submissions app_sub\n",
        "    ON ds.applicant_submission_id = app_sub.id\n",
        "  JOIN rds.pg_rds_public.applicants app\n",
        "    ON app_sub.applicant_id = app.id\n",
        "  JOIN rds.pg_rds_public.entries e\n",
        "    ON e.id = app.entry_id\n",
        "  WHERE ds.source_type = 'BANK_LINKING'\n",
        ") bank\n",
        "  ON base.fde_submission_id = bank.entry_id\n",
        "JOIN rds.pg_rds_public.entries e\n",
        "  ON e.id=base.fde_submission_id\n",
        "JOIN rds.pg_rds_public.folders f\n",
        "  ON f.id=e.folder_id\n",
        "JOIN rds.pg_rds_public.properties prop\n",
        "  ON prop.id=f.property_id\n",
        "JOIN bal_enabled_properties bal\n",
        "  ON prop.id=bal.property_id\n",
        "WHERE (array_contains(:company, base.fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, base.fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "AND e.submission_time >= bal.date_bal_enabled\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "ORDER BY fde_submission_time desc\n",
        ")\n",
        "GROUP BY 1\n",
        "ORDER BY 1 asc"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "828b90ff",
      "displayName": "Aggregate data Over Time Daily - USE THIS",
      "queryLines": [
        "WITH bal_enabled_properties AS (\n",
        "SELECT\n",
        "      prop.id as property_id\n",
        "    , prop.name as property_name\n",
        "    , pf.updated_at AS date_bal_enabled\n",
        "FROM rds.pg_rds_public.properties prop\n",
        "RIGHT JOIN rds.pg_rds_public.property_features pf on prop.id = pf.property_id\n",
        "WHERE pf.feature_code = \"bank_linking\"\n",
        "AND pf.state = 'enabled'\n",
        "AND prop.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        ")\n",
        "\n",
        "SELECT date_trunc('DAY', fde_submission_time) as time_period\n",
        ", SUM(bank_account_linking_used)/count(*) as perc_submissions_with_bank_linking\n",
        ", SUM(calculation_success_rate_with_BAL)/SUM (case when submission_ruling =\"CLEAN\" THEN 1 ELSE 0 END) as calculation_success_rate_with_BAL\n",
        ", count(*) as num_total_submissions\n",
        ", SUM(bank_account_linking_used) as num_submissions_with_BAL\n",
        ", count(*) - SUM(bank_account_linking_used) as num_submissions_NO_BAL\n",
        "FROM (\n",
        "\n",
        "SELECT \n",
        "  base.*,\n",
        "  CASE \n",
        "    WHEN bank.entry_id IS NOT NULL THEN 1 \n",
        "    ELSE 0 \n",
        "  END AS bank_account_linking_used,\n",
        "  CASE \n",
        "    WHEN base.is_calculated_status = 1 THEN 1\n",
        "    WHEN bank.entry_id IS NOT NULL AND base.submission_ruling = 'CLEAN' THEN 1\n",
        "    ELSE 0\n",
        "  END AS calculation_success_rate_with_BAL,\n",
        "    CASE\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NOT NULL THEN 'All'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NULL THEN 'Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NULL THEN 'Connected Payroll Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NOT NULL THEN 'Bank Linking and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NOT NULL THEN 'Both Connected Accounts'\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NULL THEN 'Connected Payroll and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'error' AND bank.entry_id IS NOT NULL THEN 'Bank Linking Only'\n",
        "    ELSE 'Unknown'\n",
        "  END AS applicant_source_type\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results base\n",
        "LEFT JOIN (\n",
        "  SELECT DISTINCT e.id AS entry_id\n",
        "  FROM rds.pg_rds_public.applicant_submission_document_sources ds\n",
        "  JOIN rds.pg_rds_public.applicant_submissions app_sub\n",
        "    ON ds.applicant_submission_id = app_sub.id\n",
        "  JOIN rds.pg_rds_public.applicants app\n",
        "    ON app_sub.applicant_id = app.id\n",
        "  JOIN rds.pg_rds_public.entries e\n",
        "    ON e.id = app.entry_id\n",
        "  WHERE ds.source_type = 'BANK_LINKING'\n",
        ") bank\n",
        "  ON base.fde_submission_id = bank.entry_id\n",
        "JOIN rds.pg_rds_public.entries e\n",
        "  ON e.id=base.fde_submission_id\n",
        "JOIN rds.pg_rds_public.folders f\n",
        "  ON f.id=e.folder_id\n",
        "JOIN rds.pg_rds_public.properties prop\n",
        "  ON prop.id=f.property_id\n",
        "JOIN bal_enabled_properties bal\n",
        "  ON prop.id=bal.property_id\n",
        "WHERE (array_contains(:company, base.fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, base.fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "AND e.submission_time >= bal.date_bal_enabled\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "ORDER BY fde_submission_time desc\n",
        ")\n",
        "GROUP BY 1\n",
        "ORDER BY 1 asc"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "f801b8f0",
      "displayName": "Unique Error Reasons",
      "queryLines": [
        "/*SELECT \n",
        "    fde_submission_id, \n",
        "    fde_submission_time, \n",
        "    error_reason_combined, \n",
        "    exploded_value AS error,\n",
        "    is_calculated_status,\n",
        "    submission_ruling,\n",
        "    COUNT(*) AS occurrence_count,  -- Count occurrences of each error\n",
        "    COLLECT_SET(fde_submission_id) AS submission_ids, -- Aggregate IDs into a set\n",
        "    CASE \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, All documents do not contain gross pay, Document does not have a recipient name' \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub' \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, All documents do not contain gross pay, Document does not have a recipient name, Recipient name does not match applicant name' \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub' \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, Document does not have a recipient name, Recipient name does not match applicant name'  \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub'  \n",
        "        ELSE exploded_value\n",
        "    END AS exploded_value\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results cslr\n",
        "LATERAL VIEW EXPLODE(SPLIT(error_reason_combined, ',')) exploded_tbl AS exploded_value\n",
        "WHERE is_calculated_status = 0\n",
        "GROUP BY fde_submission_id, fde_submission_time, error_reason_combined, exploded_value, is_calculated_status, submission_ruling\n",
        "ORDER BY fde_submission_time DESC\n",
        "*/\n",
        "\n",
        "SELECT\n",
        "  fde_submission_id,\n",
        "  fde_submission_time,\n",
        "  error_reason_combined,\n",
        "  exploded_value AS cleaned_error,\n",
        "  is_calculated_status,\n",
        "  submission_ruling,\n",
        "  COUNT(*) AS occurrence_count,  -- Count occurrences of each error\n",
        "  COLLECT_SET(fde_submission_id) AS submission_ids, -- Aggregate IDs into a set\n",
        "  CASE \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, All documents do not contain gross pay, Document does not have a recipient name' \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub' \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, All documents do not contain gross pay, Document does not have a recipient name, Recipient name does not match applicant name' \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub' \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, Document does not have a recipient name, Recipient name does not match applicant name'  \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub'  \n",
        "        ELSE exploded_value\n",
        "    END AS exploded_value\n",
        "FROM (\n",
        "  SELECT *,\n",
        "    explode(\n",
        "      split(regexp_replace(error_reason_combined, '[\\\\[\\\\]]', ''), ',\\\\s*')\n",
        "    ) AS exploded_value\n",
        "  FROM team_sandbox.product_engineering.unity_calc_iv_cp_submission_level_results\n",
        "  WHERE is_calculated_status = 0\n",
        ")\n",
        "GROUP BY fde_submission_id, fde_submission_time, error_reason_combined, exploded_value, is_calculated_status, submission_ruling\n",
        "ORDER BY fde_submission_time DESC\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "\n"
      ]
    },
    {
      "name": "9e69f85f",
      "displayName": "Aggregate data",
      "queryLines": [
        "WITH bal_enabled_properties AS (\n",
        "SELECT\n",
        "      prop.id as property_id\n",
        "    , prop.name as property_name\n",
        "    , pf.updated_at AS date_bal_enabled\n",
        "FROM rds.pg_rds_public.properties prop\n",
        "RIGHT JOIN rds.pg_rds_public.property_features pf on prop.id = pf.property_id\n",
        "WHERE pf.feature_code = \"bank_linking\"\n",
        "AND pf.state = 'enabled'\n",
        "AND prop.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        ")\n",
        "\n",
        "SELECT SUM(bank_account_linking_used)/count(*) as perc_submissions_with_bank_linking\n",
        ", SUM(calculation_success_rate_with_BAL)/SUM (case when submission_ruling =\"CLEAN\" THEN 1 ELSE 0 END) as calculation_success_rate_with_BAL\n",
        "FROM (\n",
        "\n",
        "SELECT \n",
        "  base.*,\n",
        "  CASE \n",
        "    WHEN bank.entry_id IS NOT NULL THEN 1 \n",
        "    ELSE 0 \n",
        "  END AS bank_account_linking_used,\n",
        "  CASE \n",
        "    WHEN base.is_calculated_status = 1 THEN 1\n",
        "    WHEN bank.entry_id IS NOT NULL AND base.submission_ruling = 'CLEAN' THEN 1\n",
        "    ELSE 0\n",
        "  END AS calculation_success_rate_with_BAL,\n",
        "    CASE\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NOT NULL THEN 'All'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NULL THEN 'Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NULL THEN 'Connected Payroll Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Document Upload Only' AND bank.entry_id IS NOT NULL THEN 'Bank Linking and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'Connected Payroll Only' AND bank.entry_id IS NOT NULL THEN 'Both Connected Accounts'\n",
        "    WHEN base.applicant_financial_source_choice = 'Both' AND bank.entry_id IS NULL THEN 'Connected Payroll and Documents Only'\n",
        "    WHEN base.applicant_financial_source_choice = 'error' AND bank.entry_id IS NOT NULL THEN 'Bank Linking Only'\n",
        "    ELSE 'Unknown'\n",
        "  END AS applicant_source_type\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results base\n",
        "LEFT JOIN (\n",
        "  SELECT DISTINCT e.id AS entry_id\n",
        "  FROM rds.pg_rds_public.applicant_submission_document_sources ds\n",
        "  JOIN rds.pg_rds_public.applicant_submissions app_sub\n",
        "    ON ds.applicant_submission_id = app_sub.id\n",
        "  JOIN rds.pg_rds_public.applicants app\n",
        "    ON app_sub.applicant_id = app.id\n",
        "  JOIN rds.pg_rds_public.entries e\n",
        "    ON e.id = app.entry_id\n",
        "  WHERE ds.source_type = 'BANK_LINKING'\n",
        ") bank\n",
        "  ON base.fde_submission_id = bank.entry_id\n",
        "JOIN rds.pg_rds_public.entries e\n",
        "  ON e.id=base.fde_submission_id\n",
        "JOIN rds.pg_rds_public.folders f\n",
        "  ON f.id=e.folder_id\n",
        "JOIN rds.pg_rds_public.properties prop\n",
        "  ON prop.id=f.property_id\n",
        "JOIN bal_enabled_properties bal\n",
        "  ON prop.id=bal.property_id\n",
        "WHERE (array_contains(:company, base.fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, base.fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "AND e.submission_time >= bal.date_bal_enabled\n",
        "\n",
        "\n",
        ")"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "e407c520",
      "displayName": "Properties Dropdown",
      "queryLines": [
        "SELECT \n",
        "    DISTINCT(p.name) as property_name\n",
        "FROM rds.pg_rds_public.properties p\n",
        "JOIN rds.pg_rds_public.property_features pf ON p.id=pf.property_id\n",
        "WHERE pf.state='enabled'\n",
        "AND pf.feature_code='bank_linking'\n",
        "AND p.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "UNION ALL SELECT ' --- All Properties ---' as property_name\n",
        "ORDER BY 1 ASC"
      ]
    },
    {
      "name": "bcebd0d5",
      "displayName": "Companies Dropdown",
      "queryLines": [
        "SELECT \n",
        "    DISTINCT(comp.name) as company_name\n",
        "FROM rds.pg_rds_public.properties p\n",
        "JOIN rds.pg_rds_public.property_features pf ON p.id=pf.property_id\n",
        "JOIN rds.pg_rds_public.companies comp ON comp.id=p.company_id\n",
        "WHERE pf.state='enabled'\n",
        "AND pf.feature_code='bank_linking'\n",
        "AND p.id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "UNION ALL SELECT ' --- All Companies ---' as company_name\n",
        "ORDER BY 1 ASC\n"
      ]
    },
    {
      "name": "10c4827b",
      "displayName": "Employer Data",
      "queryLines": [
        "SELECT employer_name\n",
        ", count(distinct fde_submission_id) as num_unique_submissions\n",
        ", max(gross_yearly_income) as max_yearly_income_gross\n",
        ", min(gross_yearly_income) as min_yearly_income_gross\n",
        ", avg(gross_yearly_income) as avg_yearly_income_gross\n",
        "FROM product.iv.unity_calc_iv_cp_employer_analysis\n",
        "where is_calculated_status=1\n",
        "AND (array_contains(:company, fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "GROUP BY 1\n",
        "ORDER BY 2 desc"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "458c14ee",
      "displayName": "applicant_number_of_employers",
      "queryLines": [
        "SELECT fde_submission_id, applicant_financial_source_choice, count(distinct employer_name) as num_employers\n",
        "FROM product.iv.unity_calc_iv_cp_employer_analysis\n",
        "where is_calculated_status=1\n",
        "AND (array_contains(:company, fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "GROUP BY 1, 2"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "c9085949",
      "displayName": "Aggregate data over time - weekly",
      "queryLines": [
        "SELECT date_trunc('WEEK', fde_submission_time) as week\n",
        ", SUM(connected_payroll_used)/count(*) as perc_submissions_with_connected_payroll\n",
        ", SUM(is_calculated_status)/SUM (case when submission_ruling =\"CLEAN\" THEN 1 ELSE 0 END) as calculation_success_rate\n",
        ", SUM(CASE WHEN is_calculated_status=1 AND connected_payroll_used=1 THEN 1 ELSE 0 END) / SUM (case when submission_ruling =\"CLEAN\" AND connected_payroll_used=1 THEN 1 ELSE 0 END) as cp_calculation_success_rate\n",
        ", SUM(CASE WHEN is_calculated_status=1 AND connected_payroll_used=1 AND applicant_financial_source_choice=\"Connected Payroll Only\" THEN 1 ELSE 0 END) / SUM (case when submission_ruling =\"CLEAN\" AND connected_payroll_used=1 AND applicant_financial_source_choice=\"Connected Payroll Only\" THEN 1 ELSE 0 END) as cp_only_calculation_success_rate\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results\n",
        "WHERE (array_contains(:company, fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "GROUP BY 1\n",
        "ORDER BY 1 asc\n"
      ],
      "parameters": [
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "c8041910",
      "displayName": "Untitled dataset",
      "queryLines": [
        ""
      ]
    },
    {
      "name": "1e56da41",
      "displayName": "Aggregate data over time - daily",
      "queryLines": [
        "SELECT date_trunc('DD', fde_submission_time) as day\n",
        ", SUM(connected_payroll_used)/count(*) as perc_submissions_with_connected_payroll\n",
        ", try_divide(SUM(is_calculated_status), SUM(case when submission_ruling =\"CLEAN\" THEN 1 ELSE 0 END)) as calculation_success_rate\n",
        ", try_divide(SUM(CASE WHEN is_calculated_status=1 AND connected_payroll_used=1 THEN 1 ELSE 0 END), SUM(case when submission_ruling =\"CLEAN\" AND connected_payroll_used=1 THEN 1 ELSE 0 END)) as cp_calculation_success_rate\n",
        ", try_divide(SUM(CASE WHEN is_calculated_status=1 AND connected_payroll_used=1 AND applicant_financial_source_choice=\"Connected Payroll Only\" THEN 1 ELSE 0 END), SUM(case when submission_ruling =\"CLEAN\" AND connected_payroll_used=1 AND applicant_financial_source_choice=\"Connected Payroll Only\" THEN 1 ELSE 0 END)) as cp_only_calculation_success_rate\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results\n",
        "WHERE (array_contains(:company, fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "GROUP BY 1\n",
        "ORDER BY 1 asc"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "cb613fc2",
      "displayName": "Unique Error Reasons Before 3/1 (when errors broke)",
      "queryLines": [
        "with errors as (\n",
        "SELECT \n",
        "    fde_submission_id, \n",
        "    fde_submission_time, \n",
        "    error_reason_combined, \n",
        "    exploded_value AS error,\n",
        "    is_calculated_status,\n",
        "    submission_ruling,\n",
        "    applicant_financial_source_choice,\n",
        "    COUNT(*) AS occurrence_count,  -- Count occurrences of each error\n",
        "    COLLECT_SET(fde_submission_id) AS submission_ids, -- Aggregate IDs into a set\n",
        "    CASE \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, All documents do not contain gross pay, Document does not have a recipient name' \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub' \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, All documents do not contain gross pay, Document does not have a recipient name, Recipient name does not match applicant name' \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub' \n",
        "        WHEN error_reason_combined = 'All documents are missing start date or end date, Document does not have a recipient name, Recipient name does not match applicant name'  \n",
        "            THEN 'Bank Statement incorrectly uploaded as Paystub'  \n",
        "        ELSE exploded_value\n",
        "    END AS exploded_value\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results cslr\n",
        "LATERAL VIEW EXPLODE(SPLIT(error_reason_combined, ',')) exploded_tbl AS exploded_value\n",
        "--WHERE is_calculated_status = 0\n",
        "GROUP BY fde_submission_id, fde_submission_time, error_reason_combined, exploded_value, is_calculated_status, submission_ruling, applicant_financial_source_choice\n",
        "ORDER BY fde_submission_time DESC\n",
        ")\n",
        "\n",
        "select trim(exploded_value) as unique_error, count(distinct fde_submission_id) as num_submissions\n",
        " from errors\n",
        " WHERE fde_submission_time < to_timestamp('2025-03-01', 'yyyy-MM-dd')\n",
        " AND applicant_financial_source_choice<>\"Connected Payroll Only\"\n",
        " GROUP BY 1 \n",
        " ORDER BY 2 desc"
      ]
    },
    {
      "name": "bb24f275",
      "displayName": "Aggregate data over time - daily",
      "queryLines": [
        "SELECT date_trunc('DAY', fde_submission_time) as week\n",
        ", SUM(connected_payroll_used)/count(*) as perc_submissions_with_connected_payroll\n",
        ", SUM(is_calculated_status)/SUM(case when submission_ruling =\"CLEAN\" THEN 1 ELSE 0 END) as calculation_success_rate\n",
        ", try_divide(\n",
        "    SUM(CASE WHEN is_calculated_status=1 AND connected_payroll_used=1 THEN 1 ELSE 0 END),\n",
        "    SUM(case when submission_ruling =\"CLEAN\" AND connected_payroll_used=1 THEN 1 ELSE 0 END)\n",
        "  ) as cp_calculation_success_rate\n",
        ", try_divide(\n",
        "    SUM(CASE WHEN is_calculated_status=1 AND connected_payroll_used=1 AND applicant_financial_source_choice=\"Connected Payroll Only\" THEN 1 ELSE 0 END),\n",
        "    SUM(case when submission_ruling =\"CLEAN\" AND connected_payroll_used=1 AND applicant_financial_source_choice=\"Connected Payroll Only\" THEN 1 ELSE 0 END)\n",
        "  ) as cp_only_calculation_success_rate\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results\n",
        "WHERE (array_contains(:company, fde_company_name) OR array_contains(:company, \" --- All Companies ---\"))\n",
        "AND (array_contains(:property, fde_property_name) OR array_contains(:property,\" --- All Properties ---\"))\n",
        "--AND (:start_date IS NOT NULL and :end_date is not null and fde_submission_time between :start_date and :end_date)\n",
        "GROUP BY 1\n",
        "ORDER BY 1 asc"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "8094ffa0",
      "displayName": "Unity Calculation Submission Level Data",
      "queryLines": [
        "SELECT *\n",
        "FROM product.iv.unity_calc_iv_cp_submission_level_results"
      ]
    },
    {
      "name": "20a2de78",
      "displayName": "BAL Feature Flag Data",
      "queryLines": [
        "with launch_darkly as (\n",
        "\n",
        "SELECT\n",
        "  c.feature_flag_environment_index,\n",
        "  c.feature_flag_environment_rule_id,\n",
        "  c.feature_flag_key,\n",
        "  c.feature_flag_project_key,\n",
        "   e.environment_name,\n",
        "  c.id,\n",
        "  value AS values,\n",
        "  c._fivetran_deleted,\n",
        "  c._fivetran_synced,\n",
        "  c.op,\n",
        "  c.negate,\n",
        "  c.context_kind,\n",
        "  c.attribute\n",
        "FROM\n",
        "  product_engineering_ops.launchdarkly.feature_flag_environment_rule_clause AS c\n",
        "  INNER JOIN product_engineering_ops.launchdarkly.feature_flag_environment e on e.index = c.feature_flag_environment_index and c.feature_flag_project_key = e.feature_flag_project_key\n",
        "LATERAL VIEW EXPLODE(from_json(c.values, 'array<string>')) AS value\n",
        "WHERE e.environment_name = 'Production'\n",
        "\n",
        ")\n",
        "\n",
        "SELECT\n",
        "-- count(distinct prop.name)\n",
        "--ld.op, count(*) as num_rows\n",
        "distinct ld.*, prop.name as property_name\n",
        "FROM launch_darkly ld\n",
        "  LEFT join rds.pg_rds_public.properties prop on prop.short_id= ld.values\n",
        "WHERE ld.feature_flag_key=\"bank-linking-dup-experience\"\n",
        "and ld.environment_name=\"Production\"\n",
        "and prop.short_id IN ('drs3aQiDUc',\n",
        "'Oi5maEyCR0',\n",
        "'qppewOtTPn',\n",
        "'sl0yni8htt',\n",
        "'OEOOmKEa4Y',\n",
        "'O35Cl3SqpR',\n",
        "'iIT7cysEvW',\n",
        "'yvYkGKNixe',\n",
        "'H5HBy7u5Ox',\n",
        "'p7ckdsi07Q',\n",
        "'KcG2XYVD0O',\n",
        "'4Eux9BAFwQ',\n",
        "'Bp2MzuvRO3',\n",
        "'U9JX3CxajX',\n",
        "'QEGeZdt1hO',\n",
        "'LpfUjCRE6a',\n",
        "'Og4Nj0LBTC',\n",
        "'3Afg45WEq5',\n",
        "'rTd61xfkdK',\n",
        "'veQpfmSnUl',\n",
        "'Hg0gX5FUam',\n",
        "'M6LHGEGDWK',\n",
        "'ePHifvZ4J5',\n",
        "'vBCI20KQhR',\n",
        "'PqQDkaUktu')\n",
        "--GROUP BY 1"
      ]
    },
    {
      "name": "373b2de4",
      "displayName": "Bank Linking Submissions",
      "queryLines": [
        "USE CATALOG `hive_metastore`;\n",
        "USE SCHEMA `default`;\n",
        "\n",
        "SELECT\n",
        "    f.name as applicant_name,\n",
        "    p.name as property_name,\n",
        "    c.name as company_name,\n",
        "    concat('https://enterprise-api.snappt.com/applicants/', a.id, '/report?format=html&preset=summary') AS report_url,\n",
        "    concat('https://fraud.snappt.com/folder/', f.id) AS folder_url,\n",
        "    e.inserted_at AS entry_inserted_at\n",
        "FROM rds.pg_rds_public.applicant_submission_document_sources ds\n",
        "RIGHT JOIN rds.pg_rds_public.applicant_submissions subs ON ds.applicant_submission_id = subs.id\n",
        "RIGHT JOIN rds.pg_rds_public.applicants a ON subs.applicant_id = a.id\n",
        "RIGHT JOIN rds.pg_rds_public.entries e ON e.id = a.entry_id\n",
        "RIGHT JOIN rds.pg_rds_public.folders f ON e.folder_id = f.id\n",
        "RIGHT JOIN rds.pg_rds_public.properties p ON f.property_id = p.id\n",
        "RIGHT JOIN rds.pg_rds_public.companies c ON f.company_id = c.id\n",
        "WHERE ds.source_type = 'BANK_LINKING'\n",
        "AND (array_contains(:property, p.name) OR array_contains(:property, ' --- All Properties ---'))\n",
        "AND (array_contains(:company, c.name) OR array_contains(:company, ' --- All Companies ---'))\n",
        "ORDER BY f.inserted_at DESC\n",
        "LIMIT 1000;"
      ],
      "parameters": [
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ],
      "catalog": "hive_metastore",
      "schema": "default"
    },
    {
      "name": "6dfb25e2",
      "displayName": "Conversion Rate v1",
      "queryLines": [
        "-- Note: right now this is rigged up for daily calc ONLY.\n",
        "-- There should be a simple enough way to move aggregation to the final\n",
        "-- query, but I'm not spending time on that right now.\n",
        "WITH unconverted AS (\n",
        "  SELECT DISTINCT\n",
        "      property:id AS property_id\n",
        "    , date_trunc('DAY', inserted_at) AS day\n",
        "    , count(1) OVER (PARTITION BY property:id, date_trunc('DAY', inserted_at)) AS applicant_count\n",
        "  FROM rds.pg_rds_public.unauthenticated_session\n",
        "  WHERE application:email IS NOT NULL\n",
        "  AND inserted_at BETWEEN :start_date AND COALESCE(:end_date, NOW())\n",
        "  -- GROUP BY date_trunc('DAY', inserted_at)\n",
        "),\n",
        "converted AS (\n",
        "  SELECT DISTINCT\n",
        "      f.property_id AS property_id\n",
        "    , date_trunc('DAY', a.inserted_at) AS day\n",
        "    , count(a.id) OVER (PARTITION BY f.property_id, date_trunc('DAY', a.inserted_at)) AS applicant_count\n",
        "  FROM rds.pg_rds_public.folders f\n",
        "  JOIN rds.pg_rds_public.entries e ON e.folder_id = f.id\n",
        "  JOIN rds.pg_rds_public.applicants a ON a.entry_id = e.id\n",
        "  WHERE a.inserted_at BETWEEN :start_date AND COALESCE(:end_date, NOW())\n",
        "),\n",
        "agg AS (\n",
        "  SELECT\n",
        "      uc.property_id\n",
        "    , uc.day\n",
        "    , SUM(coalesce(uc.applicant_count, 0) + coalesce(cv.applicant_count, 0)) OVER (PARTITION BY uc.property_id, uc.day) AS total_count\n",
        "    , SUM(coalesce(uc.applicant_count, 0)) OVER (PARTITION BY uc.property_id, uc.day) AS unconverted_count\n",
        "    , SUM(coalesce(cv.applicant_count, 0)) OVER (PARTITION BY uc.property_id, uc.day) AS converted_count\n",
        "  FROM unconverted uc\n",
        "  LEFT JOIN converted cv ON uc.property_id = cv.property_id AND uc.day = cv.day\n",
        "  ORDER BY uc.property_id, uc.day DESC\n",
        ")\n",
        "SELECT\n",
        "    agg.*\n",
        "  , p.name AS property_name\n",
        "  , c.name AS company_name\n",
        "FROM agg\n",
        "JOIN rds.pg_rds_public.properties p ON p.id = agg.property_id\n",
        "JOIN companies c ON c.id = p.company_id\n",
        "WHERE (array_contains(:company, c.name) OR array_contains(:company, ' --- All Companies ---'))\n",
        "AND (array_contains(:property, p.name) OR array_contains(:property, ' --- All Properties ---'));"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "2024-06-01T00:00:00.000"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        },
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        }
      ],
      "catalog": "rds",
      "schema": "pg_rds_public"
    },
    {
      "name": "5d3a419b",
      "displayName": "Conversion Rate v2",
      "queryLines": [
        "-- This dataset measures conversion per property. \n",
        "WITH unconverted AS (\n",
        "  SELECT DISTINCT\n",
        "      application:email AS email\n",
        "    , property:id AS property_id\n",
        "    , date_trunc('DAY', inserted_at) AS day\n",
        "    , count(1) OVER (PARTITION BY application:email, property:id, date_trunc('DAY', inserted_at)) AS per_day\n",
        "    , 0 AS used_bal\n",
        "    , 0 AS used_cp\n",
        "    , 0 AS converted\n",
        "  FROM rds.pg_rds_public.unauthenticated_session\n",
        "  WHERE application:email IS NOT NULL\n",
        "  AND inserted_at BETWEEN :start_date AND COALESCE(:end_date, NOW())\n",
        "  AND property:id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "),\n",
        "converted AS (\n",
        "  SELECT DISTINCT\n",
        "      a.email AS email\n",
        "    , f.property_id AS property_id\n",
        "    , date_trunc('DAY', a.inserted_at) AS day\n",
        "    , count(1) OVER (PARTITION BY a.email, f.property_id, date_trunc('DAY', a.inserted_at)) AS per_day\n",
        "    , CASE \n",
        "        WHEN MAX(CASE WHEN asds.source_type = 'BANK_LINKING' THEN 1 ELSE 0 END) = 1 THEN 1 \n",
        "        ELSE 0 \n",
        "      END AS used_bal\n",
        "    , CASE \n",
        "        WHEN MAX(CASE WHEN asds.source_type = 'CONNECTED_PAYROLL' THEN 1 ELSE 0 END) = 1 THEN 1 \n",
        "        ELSE 0 \n",
        "      END AS used_cp\n",
        "    , 1 as converted\n",
        "  FROM rds.pg_rds_public.applicants a\n",
        "  LEFT JOIN rds.pg_rds_public.applicant_submissions asub ON asub.applicant_id = a.id\n",
        "  LEFT JOIN rds.pg_rds_public.applicant_submission_document_sources asds ON asds.applicant_submission_id = asub.id\n",
        "  LEFT JOIN entries e ON a.entry_id = e.id\n",
        "  LEFT JOIN folders f ON e.folder_id = f.id\n",
        "  WHERE a.email IS NOT NULL\n",
        "  AND f.property_id IS NOT NULL\n",
        "  AND a.inserted_at BETWEEN :start_date AND COALESCE(:end_date, NOW())\n",
        "  AND f.property_id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "  GROUP BY a.email, f.property_id, date_trunc('DAY', a.inserted_at)\n",
        "),\n",
        "agg AS (\n",
        "  SELECT * FROM unconverted uc\n",
        "  UNION ALL\n",
        "  SELECT * FROM converted cv\n",
        "), applicants_conversions AS (\n",
        "  SELECT DISTINCT\n",
        "      agg.property_id\n",
        "    , agg.email\n",
        "    , agg.day\n",
        "    , SUM(converted) OVER (PARTITION BY agg.email, agg.property_id, agg.day) AS converted\n",
        "    , SUM(used_bal) OVER (PARTITION BY agg.email, agg.property_id, agg.day) AS used_bal\n",
        "    , SUM(used_cp) OVER (PARTITION BY agg.email, agg.property_id, agg.day) AS used_cp\n",
        "  FROM agg\n",
        ")\n",
        "SELECT \n",
        "      ac.day\n",
        "    , SUM(ac.converted) AS converted\n",
        "    , (SUM(ac.converted) / COUNT(1)) * 100 AS converted_pct\n",
        "    , SUM(ac.used_bal) AS used_bal\n",
        "    , (SUM(ac.used_bal) / COUNT(1)) * 100 AS used_bal_pct\n",
        "    , SUM(ac.used_cp) AS used_cp\n",
        "    , (SUM(ac.used_cp) / COUNT(1)) * 100 AS used_cp_pct\n",
        "FROM applicants_conversions ac\n",
        "LEFT JOIN rds.pg_rds_public.properties p ON ac.property_id = p.id\n",
        "LEFT JOIN companies c ON c.id = p.company_id\n",
        "LEFT JOIN rds.pg_rds_public.property_features pf ON pf.property_id = p.id AND pf.feature_code = 'bank_linking'\n",
        "WHERE (\n",
        "  CASE\n",
        "    WHEN :bal_enabled_properties = 1 THEN (pf.state = 'enabled')\n",
        "    WHEN :bal_enabled_properties = 0 THEN (pf.state = 'disabled' OR pf.state IS NULL)\n",
        "    ELSE TRUE\n",
        "  END\n",
        ")\n",
        "AND (array_contains(:company, c.name) OR array_contains(:company, ' --- All Companies ---'))\n",
        "AND (array_contains(:property, p.name) OR array_contains(:property, ' --- All Properties ---'))\n",
        "GROUP BY ac.day\n",
        "ORDER BY ac.day;"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "2025-06-01T00:00:00.000"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        },
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "bal_enabled_properties",
          "keyword": "bal_enabled_properties",
          "dataType": "INTEGER",
          "defaultSelection": {
            "values": {
              "dataType": "INTEGER",
              "values": [
                {
                  "value": "0"
                }
              ]
            }
          }
        }
      ],
      "catalog": "rds",
      "schema": "pg_rds_public"
    },
    {
      "name": "7347f58e",
      "displayName": "Conversion Rate v2 - Weekly",
      "queryLines": [
        "-- This dataset measures conversion per property. \n",
        "WITH unconverted AS (\n",
        "  SELECT DISTINCT\n",
        "      application:email AS email\n",
        "    , property:id AS property_id\n",
        "    , date_trunc('DAY', inserted_at) AS day\n",
        "    , count(1) OVER (PARTITION BY application:email, property:id, date_trunc('DAY', inserted_at)) AS per_day\n",
        "    , 0 AS used_bal\n",
        "    , 0 AS used_cp\n",
        "    , 0 AS converted\n",
        "  FROM rds.pg_rds_public.unauthenticated_session\n",
        "  WHERE application:email IS NOT NULL\n",
        "  AND inserted_at BETWEEN :start_date AND COALESCE(:end_date, NOW())\n",
        "  AND property:id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "),\n",
        "converted AS (\n",
        "  SELECT DISTINCT\n",
        "      a.email AS email\n",
        "    , f.property_id AS property_id\n",
        "    , date_trunc('DAY', a.inserted_at) AS day\n",
        "    , count(1) OVER (PARTITION BY a.email, f.property_id, date_trunc('DAY', a.inserted_at)) AS per_day\n",
        "    , CASE \n",
        "        WHEN MAX(CASE WHEN asds.source_type = 'BANK_LINKING' THEN 1 ELSE 0 END) = 1 THEN 1 \n",
        "        ELSE 0 \n",
        "      END AS used_bal\n",
        "    , CASE \n",
        "        WHEN MAX(CASE WHEN asds.source_type = 'CONNECTED_PAYROLL' THEN 1 ELSE 0 END) = 1 THEN 1 \n",
        "        ELSE 0 \n",
        "      END AS used_cp\n",
        "    , 1 as converted\n",
        "  FROM rds.pg_rds_public.applicants a\n",
        "  LEFT JOIN rds.pg_rds_public.applicant_submissions asub ON asub.applicant_id = a.id\n",
        "  LEFT JOIN rds.pg_rds_public.applicant_submission_document_sources asds ON asds.applicant_submission_id = asub.id\n",
        "  LEFT JOIN entries e ON a.entry_id = e.id\n",
        "  LEFT JOIN folders f ON e.folder_id = f.id\n",
        "  WHERE a.email IS NOT NULL\n",
        "  AND f.property_id IS NOT NULL\n",
        "  AND a.inserted_at BETWEEN :start_date AND COALESCE(:end_date, NOW())\n",
        "  AND f.property_id NOT IN (\"e7215b95-52aa-4593-8f1b-fd8d45de53fa\", \"09fba77e-a5b3-48cf-af34-662d65809b48\") -- test properties\n",
        "  GROUP BY a.email, f.property_id, date_trunc('DAY', a.inserted_at)\n",
        "),\n",
        "agg AS (\n",
        "  SELECT * FROM unconverted uc\n",
        "  UNION ALL\n",
        "  SELECT * FROM converted cv\n",
        "), applicants_conversions AS (\n",
        "  SELECT DISTINCT\n",
        "      agg.property_id\n",
        "    , agg.email\n",
        "    , agg.day\n",
        "    , SUM(converted) OVER (PARTITION BY agg.email, agg.property_id, agg.day) AS converted\n",
        "    , SUM(used_bal) OVER (PARTITION BY agg.email, agg.property_id, agg.day) AS used_bal\n",
        "    , SUM(used_cp) OVER (PARTITION BY agg.email, agg.property_id, agg.day) AS used_cp\n",
        "  FROM agg\n",
        ")\n",
        "SELECT \n",
        "      date_trunc('week', ac.day) as week\n",
        "    , SUM(ac.converted) AS converted\n",
        "    , (SUM(ac.converted) / COUNT(1)) * 100 AS converted_pct\n",
        "    , SUM(ac.used_bal) AS used_bal\n",
        "    , (SUM(ac.used_bal) / COUNT(1)) * 100 AS used_bal_pct\n",
        "    , SUM(ac.used_cp) AS used_cp\n",
        "    , (SUM(ac.used_cp) / COUNT(1)) * 100 AS used_cp_pct\n",
        "FROM applicants_conversions ac\n",
        "LEFT JOIN rds.pg_rds_public.properties p ON ac.property_id = p.id\n",
        "LEFT JOIN companies c ON c.id = p.company_id\n",
        "LEFT JOIN rds.pg_rds_public.property_features pf ON pf.property_id = p.id AND pf.feature_code = 'bank_linking'\n",
        "WHERE (\n",
        "  CASE\n",
        "    WHEN :bal_enabled_properties = 1 THEN (pf.state = 'enabled')\n",
        "    WHEN :bal_enabled_properties = 0 THEN (pf.state = 'disabled' OR pf.state IS NULL)\n",
        "    ELSE TRUE\n",
        "  END\n",
        ")\n",
        "AND (array_contains(:company, c.name) OR array_contains(:company, ' --- All Companies ---'))\n",
        "AND (array_contains(:property, p.name) OR array_contains(:property, ' --- All Properties ---'))\n",
        "GROUP BY 1\n",
        "ORDER BY 1;"
      ],
      "parameters": [
        {
          "displayName": "start_date",
          "keyword": "start_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "2025-06-01T00:00:00.000"
                }
              ]
            }
          }
        },
        {
          "displayName": "end_date",
          "keyword": "end_date",
          "dataType": "DATE",
          "defaultSelection": {
            "values": {
              "dataType": "DATE",
              "values": [
                {
                  "value": "now/d"
                }
              ]
            }
          }
        },
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Companies ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": " --- All Properties ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "bal_enabled_properties",
          "keyword": "bal_enabled_properties",
          "dataType": "INTEGER",
          "defaultSelection": {
            "values": {
              "dataType": "INTEGER",
              "values": [
                {
                  "value": "0"
                }
              ]
            }
          }
        }
      ],
      "catalog": "rds",
      "schema": "pg_rds_public"
    },
    {
      "name": "934d8329",
      "displayName": "Applicant Bank Linking Data with Property and Company Details",
      "queryLines": [
        "WITH parsed_bal_exhibits AS (\n",
        "  SELECT\n",
        "      ex.id AS exhibit_id\n",
        "    , subs.id AS submission_id\n",
        "    , ads.id AS document_source_id\n",
        "    -- , exd.data:institutions[*].id AS instutition_id\n",
        "    -- , exd.data:institutions[*].name AS instutition_name\n",
        "    , doc.value:id::string AS institution_id\n",
        "    , doc.value:name::string AS institution_name\n",
        "  FROM rds.pg_rds_ax_public.exhibits ex\n",
        "  JOIN rds.pg_rds_ax_public.exhibit_statuses exs ON exs.exhibit_id = ex.id\n",
        "  JOIN rds.pg_rds_ax_public.exhibit_data exd ON exd.exhibit_id = ex.id\n",
        "  JOIN rds.pg_rds_ax_public.applicant_submission_document_sources ads ON ex.document_source_id = ads.id\n",
        "  JOIN rds.pg_rds_ax_public.applicant_submissions subs ON subs.id = ads.submission_id\n",
        "  JOIN LATERAL variant_explode(parse_json(exd.data:institutions)) AS doc\n",
        "  WHERE exd.type LIKE 'FINICITY_VO%_REPORT_V1'\n",
        ")\n",
        "SELECT\n",
        "      count(1) AS total\n",
        "    , prop.name as property_name\n",
        "    , comp.name as company_name\n",
        "    , pbe.institution_name\n",
        "    , pbe.institution_id\n",
        "FROM parsed_bal_exhibits pbe\n",
        "JOIN rds.pg_rds_public.applicant_submissions subs ON pbe.submission_id = subs.id\n",
        "JOIN rds.pg_rds_public.applicants a ON subs.applicant_id = a.id\n",
        "JOIN rds.pg_rds_public.entries e ON e.id = a.entry_id\n",
        "JOIN rds.pg_rds_public.folders f ON e.folder_id = f.id\n",
        "JOIN rds.pg_rds_public.properties prop ON f.property_id = prop.id\n",
        "-- This join WILL NOT WORK and I have no idea why. Driving me insane.\n",
        "-- Commented out query below demonstrates that it _should_ work.\n",
        "LEFT JOIN rds.pg_rds_public.companies comp ON comp.id = prop.company_id\n",
        "WHERE 1 = 1\n",
        "AND (array_contains(:property, prop.name) OR array_contains(:property, '--- All Properties ---'))\n",
        "AND (array_contains(:company, comp.name) OR array_contains(:company, '--- All Companies ---'))\n",
        "GROUP BY institution_id, institution_name, comp.name, prop.name\n",
        ";\n",
        "\n",
        "-- SELECT c.name AS company_name, p.name AS property_name\n",
        "-- FROM properties p\n",
        "-- JOIN companies c ON c.id = p.company_id\n",
        "-- WHERE p.status = 'ACTIVE'"
      ],
      "parameters": [
        {
          "displayName": "property",
          "keyword": "property",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "--- All Properties ---"
                }
              ]
            }
          }
        },
        {
          "displayName": "company",
          "keyword": "company",
          "dataType": "STRING",
          "complexType": "MULTI",
          "defaultSelection": {
            "values": {
              "dataType": "STRING",
              "values": [
                {
                  "value": "--- All Companies ---"
                }
              ]
            }
          }
        }
      ],
      "catalog": "rds",
      "schema": "pg_rds_public"
    }
  ],
  "pages": [
    {
      "name": "a3501c99",
      "displayName": "Main Page",
      "layout": [
        {
          "widget": {
            "name": "58df73af",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d4886089",
                  "fields": [
                    {
                      "name": "property_short_id",
                      "expression": "`property_short_id`"
                    },
                    {
                      "name": "property_name",
                      "expression": "`property_name`"
                    },
                    {
                      "name": "company_name",
                      "expression": "`company_name`"
                    },
                    {
                      "name": "property_full_address",
                      "expression": "`property_full_address`"
                    },
                    {
                      "name": "property_units",
                      "expression": "`property_units`"
                    },
                    {
                      "name": "date_bal_enabled",
                      "expression": "`date_bal_enabled`"
                    },
                    {
                      "name": "date_connected_payroll_enabled",
                      "expression": "`date_connected_payroll_enabled`"
                    },
                    {
                      "name": "date_income_verification_enabled",
                      "expression": "`date_income_verification_enabled`"
                    },
                    {
                      "name": "uses_integration",
                      "expression": "`uses_integration`"
                    },
                    {
                      "name": "PMS_integration",
                      "expression": "`PMS_integration`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`has_connected_payroll` IN (1)"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "property_short_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 1,
                    "title": "property_short_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "property_short_id"
                  },
                  {
                    "fieldName": "property_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 2,
                    "title": "property_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "property_name"
                  },
                  {
                    "fieldName": "company_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 3,
                    "title": "company_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "company_name"
                  },
                  {
                    "fieldName": "property_full_address",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 4,
                    "title": "property_full_address",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "property_full_address"
                  },
                  {
                    "fieldName": "property_units",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 5,
                    "title": "property_units",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "property_units"
                  },
                  {
                    "fieldName": "date_bal_enabled",
                    "dateTimeFormat": "YYYY-MM-DD ",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 6,
                    "title": "date_bal_enabled",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "date_bal_enabled"
                  },
                  {
                    "fieldName": "date_connected_payroll_enabled",
                    "dateTimeFormat": "YYYY-MM-DD",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 8,
                    "title": "date_connected_payroll_enabled",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "date_connected_payroll_enabled"
                  },
                  {
                    "fieldName": "date_income_verification_enabled",
                    "dateTimeFormat": "YYYY-MM-DD",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 10,
                    "title": "date_income_verification_enabled",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "date_income_verification_enabled"
                  },
                  {
                    "fieldName": "uses_integration",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 11,
                    "title": "uses_integration",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "uses_integration"
                  },
                  {
                    "fieldName": "PMS_integration",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 12,
                    "title": "PMS_integration",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "PMS_integration"
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "property_id",
                  "type": "string",
                  "displayAs": "string",
                  "order": 0,
                  "title": "property_id",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "has_connected_payroll",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 7,
                  "title": "has_connected_payroll",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "has_income_verification",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 9,
                  "title": "has_income_verification",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "has_bank_linking",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100009,
                  "title": "has_bank_linking",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Properties with BAL Enabled"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "a5cb2768",
            "multilineTextboxSpec": {
              "lines": [
                "# Overall Stats"
              ]
            }
          },
          "position": {
            "x": 0,
            "y": 1,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "495ebd31",
            "queries": [
              {
                "name": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e6b8c24bbf824cd27e0_property_name",
                "query": {
                  "datasetName": "e407c520",
                  "fields": [
                    {
                      "name": "property_name",
                      "expression": "`property_name`"
                    },
                    {
                      "name": "property_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e2fb42c13040a6164e8_property",
                "query": {
                  "datasetName": "9e69f85f",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31df8be7ecff68831a983_property",
                "query": {
                  "datasetName": "a8e55c9a",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31c8a8a743191240b95e4_property",
                "query": {
                  "datasetName": "d4886089",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31eaa8c7812109b7aaac6_property",
                "query": {
                  "datasetName": "10c4827b",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31ed293b7f20d721cf82c_property",
                "query": {
                  "datasetName": "458c14ee",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052d87e0b18cf81b98beec979ec1d_property",
                "query": {
                  "datasetName": "373b2de4",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f07178c33f141ca2c29ef20df6de74_property",
                "query": {
                  "datasetName": "6dfb25e2",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0724f6d241fcba837efe099d9c3ff_property",
                "query": {
                  "datasetName": "5d3a419b",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0562a107514c5aa92e8d0399c3ac0_property",
                "query": {
                  "datasetName": "828b90ff",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e71f4e1fc8bf3c05d92d08166a_property",
                "query": {
                  "datasetName": "8c8a5e9c",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e6a3a914b48c9e16bcc3c1de3a_property",
                "query": {
                  "datasetName": "ed068ed4",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-multi-select",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e2fb42c13040a6164e8_property"
                  },
                  {
                    "fieldName": "property_name",
                    "displayName": "property_name",
                    "queryName": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e6b8c24bbf824cd27e0_property_name"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31df8be7ecff68831a983_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31c8a8a743191240b95e4_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31eaa8c7812109b7aaac6_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31ed293b7f20d721cf82c_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052d87e0b18cf81b98beec979ec1d_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f07178c33f141ca2c29ef20df6de74_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0724f6d241fcba837efe099d9c3ff_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0562a107514c5aa92e8d0399c3ac0_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e71f4e1fc8bf3c05d92d08166a_property"
                  },
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e6a3a914b48c9e16bcc3c1de3a_property"
                  }
                ]
              },
              "selection": {
                "defaultSelection": {
                  "values": {
                    "dataType": "STRING",
                    "values": [
                      {
                        "value": " --- All Properties ---"
                      }
                    ]
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Property Name"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 2,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "e9391053",
            "queries": [
              {
                "name": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e8e9377270b70b5c8b5_company_name",
                "query": {
                  "datasetName": "bcebd0d5",
                  "fields": [
                    {
                      "name": "company_name",
                      "expression": "`company_name`"
                    },
                    {
                      "name": "company_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e2fb42c13040a6164e8_company",
                "query": {
                  "datasetName": "9e69f85f",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31df8be7ecff68831a983_company",
                "query": {
                  "datasetName": "a8e55c9a",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31c8a8a743191240b95e4_company",
                "query": {
                  "datasetName": "d4886089",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31eaa8c7812109b7aaac6_company",
                "query": {
                  "datasetName": "10c4827b",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31ed293b7f20d721cf82c_company",
                "query": {
                  "datasetName": "458c14ee",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052d87e0b18cf81b98beec979ec1d_company",
                "query": {
                  "datasetName": "373b2de4",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f07178c33f141ca2c29ef20df6de74_company",
                "query": {
                  "datasetName": "6dfb25e2",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0724f6d241fcba837efe099d9c3ff_company",
                "query": {
                  "datasetName": "5d3a419b",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e6a3a914b48c9e16bcc3c1de3a_company",
                "query": {
                  "datasetName": "ed068ed4",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e71f4e1fc8bf3c05d92d08166a_company",
                "query": {
                  "datasetName": "8c8a5e9c",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0562a107514c5aa92e8d0399c3ac0_company",
                "query": {
                  "datasetName": "828b90ff",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-multi-select",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e2fb42c13040a6164e8_company"
                  },
                  {
                    "fieldName": "company_name",
                    "displayName": "company_name",
                    "queryName": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e8e9377270b70b5c8b5_company_name"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31df8be7ecff68831a983_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31c8a8a743191240b95e4_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31eaa8c7812109b7aaac6_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31ed293b7f20d721cf82c_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052d87e0b18cf81b98beec979ec1d_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f07178c33f141ca2c29ef20df6de74_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0724f6d241fcba837efe099d9c3ff_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e6a3a914b48c9e16bcc3c1de3a_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f052e71f4e1fc8bf3c05d92d08166a_company"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0562a107514c5aa92e8d0399c3ac0_company"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Company Name"
              },
              "selection": {
                "defaultSelection": {
                  "values": {
                    "dataType": "STRING",
                    "values": [
                      {
                        "value": " --- All Companies ---"
                      }
                    ]
                  }
                }
              }
            }
          },
          "position": {
            "x": 2,
            "y": 0,
            "width": 2,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "78d64087",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d4886089",
                  "fields": [
                    {
                      "name": "sum(has_bank_linking)",
                      "expression": "SUM(`has_bank_linking`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(has_bank_linking)",
                  "displayName": "Sum of has_bank_linking"
                }
              },
              "frame": {
                "title": "Number of active properties with Bank Linking Enabled",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 2,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "c8f37007",
            "queries": [
              {
                "name": "dashboards/01efeedffd681460af3bda6ca8bff0ef/datasets/01efeedffd681b0f80023ac29842120c_fde_submission_time",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "fde_submission_time",
                      "expression": "`fde_submission_time`"
                    },
                    {
                      "name": "fde_submission_time_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "dashboards/01efeedffd681460af3bda6ca8bff0ef/datasets/01efeedffd681a10805976d56bcf97c8_date_connected_payroll_enabled",
                "query": {
                  "datasetName": "d4886089",
                  "fields": [
                    {
                      "name": "date_connected_payroll_enabled",
                      "expression": "`date_connected_payroll_enabled`"
                    },
                    {
                      "name": "date_connected_payroll_enabled_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-date-range-picker",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "fde_submission_time",
                    "displayName": "fde_submission_time",
                    "queryName": "dashboards/01efeedffd681460af3bda6ca8bff0ef/datasets/01efeedffd681b0f80023ac29842120c_fde_submission_time"
                  },
                  {
                    "fieldName": "date_connected_payroll_enabled",
                    "displayName": "date_connected_payroll_enabled",
                    "queryName": "dashboards/01efeedffd681460af3bda6ca8bff0ef/datasets/01efeedffd681a10805976d56bcf97c8_date_connected_payroll_enabled"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Date"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 0,
            "width": 2,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "2c7f6d60",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "applicant_source_type",
                      "expression": "`applicant_source_type`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "applicant_source_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "applicant_source_type"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "All Submissions with BAL Enabled by how Applicants chose to provide their financial information"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 43,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "d4f5d9da",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "connected_payroll_used",
                      "expression": "`connected_payroll_used`"
                    },
                    {
                      "name": "weekly(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Week Submission Created"
                  },
                  "displayName": "Week Submission Created"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Num Submissions"
                  },
                  "displayName": "Num Submissions"
                },
                "color": {
                  "fieldName": "connected_payroll_used",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": 1,
                        "color": "#00A972"
                      }
                    ]
                  },
                  "displayName": "connected_payroll_used"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "All Submissions with CP Enabled by if Connected Payroll was used or not"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 79,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "32234524",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "is_calculated_status",
                      "expression": "`is_calculated_status`"
                    },
                    {
                      "name": "weekly(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`connected_payroll_used` IN (`connected_payroll_used`) OR TRUE"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Week Submission Created"
                  },
                  "displayName": "Week Submission Created"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Num Submissions"
                  },
                  "displayName": "Num Submissions"
                },
                "color": {
                  "fieldName": "is_calculated_status",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": 1,
                        "color": "#00A972"
                      },
                      {
                        "value": 0,
                        "color": "#FF3621"
                      }
                    ]
                  },
                  "displayName": "is_calculated_status"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "IV Calculation Success (Green) vs. Not Calculated (Red) when CP Enabled for the Property"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 61,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "df59fe76",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "applicant_source_type",
                      "expression": "`applicant_source_type`"
                    },
                    {
                      "name": "weekly(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`is_calculated_status` IN (1)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Week Submission Created"
                  },
                  "displayName": "Week Submission Created"
                },
                "y": {
                  "fieldName": "count(*)",
                  "axis": {
                    "title": "Num Submissions"
                  },
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Num Submissions"
                },
                "color": {
                  "fieldName": "applicant_source_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "applicant_source_type"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "For Submissions with IV successfully calculated, what was the source type?"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 73,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "b3d06175",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "types_of_documents_uploaded",
                      "expression": "`types_of_documents_uploaded`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`bank_account_linking_used` IN (1)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "types_of_documents_uploaded",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "types_of_documents_uploaded"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "When an applicant used BAL, what types of documents were uploaded?",
                "showDescription": true,
                "description": "Note: \"Only Connected Payroll used\" is currently \"Other\" document types, working on fixing this"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 49,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "4f77b3fd",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "sum(bank_account_linking_used)",
                      "expression": "SUM(`bank_account_linking_used`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(bank_account_linking_used)",
                  "displayName": "Sum of bank_account_linking_used"
                }
              },
              "frame": {
                "title": "Number of Submissions with Bank Linking Used",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 2,
            "y": 5,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "0a9dd215",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "count(*)",
                  "displayName": "Count of Records"
                }
              },
              "frame": {
                "title": "Total Number of Submissions",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 2,
            "y": 2,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "0a65dfe6",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "ed068ed4",
                  "fields": [
                    {
                      "name": "perc_submissions_with_bank_linking",
                      "expression": "`perc_submissions_with_bank_linking`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "perc_submissions_with_bank_linking",
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  },
                  "displayName": "perc_submissions_with_bank_linking"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Percent of Submissions with Bank Linking"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 2,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "a503cf71",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`submission_ruling` IN ('CLEAN')"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "count(*)",
                  "displayName": "Count of Records"
                }
              },
              "frame": {
                "title": "Number of Clean Submissions",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 3,
            "y": 2,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "6a116f71",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "ed068ed4",
                  "fields": [
                    {
                      "name": "calculation_success_rate_with_BAL",
                      "expression": "`calculation_success_rate_with_BAL`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "calculation_success_rate_with_BAL",
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 1
                    }
                  },
                  "displayName": "calculation_success_rate_with_BAL"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Calculation Success Rate",
                "showDescription": true,
                "description": "# Submissions w. income / # Clean "
              }
            }
          },
          "position": {
            "x": 5,
            "y": 2,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "0c17cc66",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f801b8f0",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "cleaned_error",
                      "expression": "`cleaned_error`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`is_calculated_status` IN (0)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "cleaned_error",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "cleaned_error"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "For Clean Submissions, when income is NOT calculated, what is the breakdown of error codes? "
              }
            }
          },
          "position": {
            "x": 3,
            "y": 49,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "454b0879",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "fde_applicant_full_name",
                      "expression": "`fde_applicant_full_name`"
                    },
                    {
                      "name": "fde_submission_time",
                      "expression": "`fde_submission_time`"
                    },
                    {
                      "name": "fde_submission_id",
                      "expression": "`fde_submission_id`"
                    },
                    {
                      "name": "fde_applicant_id",
                      "expression": "`fde_applicant_id`"
                    },
                    {
                      "name": "fde_property_name",
                      "expression": "`fde_property_name`"
                    },
                    {
                      "name": "fde_company_name",
                      "expression": "`fde_company_name`"
                    },
                    {
                      "name": "num_documents_uploaded",
                      "expression": "`num_documents_uploaded`"
                    },
                    {
                      "name": "applicant_source_type",
                      "expression": "`applicant_source_type`"
                    },
                    {
                      "name": "connected_payroll_used",
                      "expression": "`connected_payroll_used`"
                    },
                    {
                      "name": "bank_account_linking_used",
                      "expression": "`bank_account_linking_used`"
                    },
                    {
                      "name": "calculation_success_rate_with_BAL",
                      "expression": "`calculation_success_rate_with_BAL`"
                    },
                    {
                      "name": "error_reason_combined",
                      "expression": "`error_reason_combined`"
                    },
                    {
                      "name": "calculation_status_code_name",
                      "expression": "`calculation_status_code_name`"
                    },
                    {
                      "name": "ivs_review_eligibility",
                      "expression": "`ivs_review_eligibility`"
                    },
                    {
                      "name": "ivs_rejection_reason",
                      "expression": "`ivs_rejection_reason`"
                    },
                    {
                      "name": "submission_ruling",
                      "expression": "`submission_ruling`"
                    },
                    {
                      "name": "monthly_gross_income",
                      "expression": "`monthly_gross_income`"
                    },
                    {
                      "name": "yearly_gross_income",
                      "expression": "`yearly_gross_income`"
                    },
                    {
                      "name": "link_to_report",
                      "expression": "`link_to_report`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "fde_applicant_full_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 0,
                    "title": "fde_applicant_full_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "fde_applicant_full_name"
                  },
                  {
                    "fieldName": "fde_submission_time",
                    "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 1,
                    "title": "fde_submission_time",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "fde_submission_time"
                  },
                  {
                    "fieldName": "fde_submission_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 2,
                    "title": "fde_submission_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "fde_submission_id"
                  },
                  {
                    "fieldName": "fde_applicant_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 3,
                    "title": "fde_applicant_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "fde_applicant_id"
                  },
                  {
                    "fieldName": "fde_property_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 4,
                    "title": "fde_property_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "fde_property_name"
                  },
                  {
                    "fieldName": "fde_company_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 5,
                    "title": "fde_company_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "fde_company_name"
                  },
                  {
                    "fieldName": "num_documents_uploaded",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 9,
                    "title": "num_documents_uploaded",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "num_documents_uploaded"
                  },
                  {
                    "fieldName": "applicant_source_type",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 10,
                    "title": "applicant_source_type",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "applicant_source_type"
                  },
                  {
                    "fieldName": "connected_payroll_used",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 11,
                    "title": "connected_payroll_used",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "connected_payroll_used"
                  },
                  {
                    "fieldName": "bank_account_linking_used",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 12,
                    "title": "bank_account_linking_used",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "bank_account_linking_used"
                  },
                  {
                    "fieldName": "calculation_success_rate_with_BAL",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 13,
                    "title": "calculation_success_rate_with_BAL",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "calculation_success_rate_with_BAL"
                  },
                  {
                    "fieldName": "error_reason_combined",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "json",
                    "visible": true,
                    "order": 15,
                    "title": "error_reason_combined",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "error_reason_combined"
                  },
                  {
                    "fieldName": "calculation_status_code_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 16,
                    "title": "calculation_status_code_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "calculation_status_code_name"
                  },
                  {
                    "fieldName": "ivs_review_eligibility",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 18,
                    "title": "ivs_review_eligibility",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "ivs_review_eligibility"
                  },
                  {
                    "fieldName": "ivs_rejection_reason",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 19,
                    "title": "ivs_rejection_reason",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "ivs_rejection_reason"
                  },
                  {
                    "fieldName": "submission_ruling",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 20,
                    "title": "submission_ruling",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "submission_ruling"
                  },
                  {
                    "fieldName": "monthly_gross_income",
                    "numberFormat": "$ 0,0[.]00",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "number",
                    "visible": true,
                    "order": 21,
                    "title": "monthly_gross_income",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "monthly_gross_income"
                  },
                  {
                    "fieldName": "yearly_gross_income",
                    "numberFormat": "$ 0,0[.]00",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "number",
                    "visible": true,
                    "order": 22,
                    "title": "yearly_gross_income",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "yearly_gross_income"
                  },
                  {
                    "fieldName": "link_to_report",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 23,
                    "title": "link_to_report",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "link_to_report"
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "agg_property_features_payroll_linking_updated_at",
                  "type": "datetime",
                  "displayAs": "datetime",
                  "order": 6,
                  "title": "agg_property_features_payroll_linking_updated_at",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "applicant_financial_source_choice",
                  "type": "string",
                  "displayAs": "string",
                  "order": 7,
                  "title": "applicant_financial_source_choice",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "types_of_documents_uploaded",
                  "type": "string",
                  "displayAs": "string",
                  "order": 8,
                  "title": "types_of_documents_uploaded",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "is_calculated_status",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 14,
                  "title": "is_calculated_status",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                },
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "agg_list_calculation_status_code_detailed_status_name",
                  "type": "complex",
                  "displayAs": "json",
                  "order": 17,
                  "title": "agg_list_calculation_status_code_detailed_status_name",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Submission Level Data"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 97,
            "width": 6,
            "height": 11
          }
        },
        {
          "widget": {
            "name": "9ce1c689",
            "queries": [
              {
                "name": "dashboards/01efd132bd0c1fbf879d01c82f2c59f0/datasets/01efd132bd0d1454aed8c892f4fe977d_fde_applicant_full_name",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "fde_applicant_full_name",
                      "expression": "`fde_applicant_full_name`"
                    },
                    {
                      "name": "fde_applicant_full_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-multi-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "fde_applicant_full_name",
                    "displayName": "fde_applicant_full_name",
                    "queryName": "dashboards/01efd132bd0c1fbf879d01c82f2c59f0/datasets/01efd132bd0d1454aed8c892f4fe977d_fde_applicant_full_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Applicant Name"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 114,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "a54efef0",
            "queries": [
              {
                "name": "dashboards/01efd132bd0c1fbf879d01c82f2c59f0/datasets/01efd132bd0d1454aed8c892f4fe977d_fde_submission_id",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "fde_submission_id",
                      "expression": "`fde_submission_id`"
                    },
                    {
                      "name": "fde_submission_id_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-multi-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "fde_submission_id",
                    "displayName": "fde_submission_id",
                    "queryName": "dashboards/01efd132bd0c1fbf879d01c82f2c59f0/datasets/01efd132bd0d1454aed8c892f4fe977d_fde_submission_id"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Submission ID"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 114,
            "width": 3,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "397a4980",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "458c14ee",
                  "fields": [
                    {
                      "name": "countdistinct(fde_submission_id)",
                      "expression": "COUNT(DISTINCT `fde_submission_id`)"
                    },
                    {
                      "name": "num_employers",
                      "expression": "`num_employers`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "countdistinct(fde_submission_id)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Number of Submissions"
                },
                "color": {
                  "fieldName": "num_employers",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "num_employers"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "How many employers do applicants have? (all submissions where income calcualted)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 91,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "c00d1390",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "458c14ee",
                  "fields": [
                    {
                      "name": "countdistinct(fde_submission_id)",
                      "expression": "COUNT(DISTINCT `fde_submission_id`)"
                    },
                    {
                      "name": "num_employers",
                      "expression": "`num_employers`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`applicant_financial_source_choice` IN ('Connected Payroll Only', 'Both')"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "countdistinct(fde_submission_id)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Number of Submissions"
                },
                "color": {
                  "fieldName": "num_employers",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "num_employers"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "When an applicant used connected payroll, how many employers do applicants have?"
              }
            }
          },
          "position": {
            "x": 3,
            "y": 91,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "260bfa3b",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "10c4827b",
                  "fields": [
                    {
                      "name": "employer_name",
                      "expression": "`employer_name`"
                    },
                    {
                      "name": "num_unique_submissions",
                      "expression": "`num_unique_submissions`"
                    },
                    {
                      "name": "avg_yearly_income_gross",
                      "expression": "`avg_yearly_income_gross`"
                    },
                    {
                      "name": "max_yearly_income_gross",
                      "expression": "`max_yearly_income_gross`"
                    },
                    {
                      "name": "min_yearly_income_gross",
                      "expression": "`min_yearly_income_gross`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "employer_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 0,
                    "title": "Employer Name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "employer_name"
                  },
                  {
                    "fieldName": "num_unique_submissions",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 1,
                    "title": "Num Submissions",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "num_unique_submissions"
                  },
                  {
                    "fieldName": "avg_yearly_income_gross",
                    "numberFormat": "$ 0,0[.]",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "decimal",
                    "displayAs": "number",
                    "visible": true,
                    "order": 2,
                    "title": "Avg Yearly Gross",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "avg_yearly_income_gross"
                  },
                  {
                    "fieldName": "max_yearly_income_gross",
                    "numberFormat": "$ 0,0[.]",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "decimal",
                    "displayAs": "number",
                    "visible": true,
                    "order": 3,
                    "title": "Max Yearly Gross",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "max_yearly_income_gross"
                  },
                  {
                    "fieldName": "min_yearly_income_gross",
                    "numberFormat": "$ 0,0[.]",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "decimal",
                    "displayAs": "number",
                    "visible": true,
                    "order": 4,
                    "title": "Min Yearly Gross",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "min_yearly_income_gross"
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Employer Data (Note: Income Numbers are not specifically for that employer. It is the income number for an applicant that worked at the Employer. If they worked at multiple employers, the income here would be the number from both)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 108,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "4a4a1ab9",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "c9085949",
                  "fields": [
                    {
                      "name": "week",
                      "expression": "`week`"
                    },
                    {
                      "name": "calculation_success_rate",
                      "expression": "`calculation_success_rate`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "week",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "week"
                },
                "y": {
                  "fieldName": "calculation_success_rate",
                  "scale": {
                    "type": "quantitative"
                  },
                  "format": {
                    "type": "number-percent",
                    "decimalPlaces": {
                      "type": "max",
                      "places": 2
                    }
                  },
                  "displayName": "calculation_success_rate"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Calculation Success Rate over time "
              }
            }
          },
          "position": {
            "x": 3,
            "y": 61,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "87037fb4",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "error_reason_combined",
                      "expression": "`error_reason_combined`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`submission_ruling` IN ('CLEAN')"
                    },
                    {
                      "expression": "`is_calculated_status` IN (0)"
                    },
                    {
                      "expression": "`connected_payroll_used` IN (1)"
                    },
                    {
                      "expression": "`applicant_financial_source_choice` IN ('Connected Payroll Only')"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "error_reason_combined",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "error_reason_combined"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "For Clean Submissions, when income is NOT calculated AND CP  ONLY Is used, what is the breakdown of error codes? [TODO IMPROVE HOW ERRORS READ]"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 85,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "4a1e4fd1",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d4886089",
                  "fields": [
                    {
                      "name": "daily(date_bal_enabled)",
                      "expression": "DATE_TRUNC(\"DAY\", `date_bal_enabled`)"
                    },
                    {
                      "name": "count(property_id)",
                      "expression": "COUNT(`property_id`)"
                    },
                    {
                      "name": "sum(property_units)",
                      "expression": "SUM(`property_units`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "daily(date_bal_enabled)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "date_bal_enabled"
                },
                "y": {
                  "primary": {
                    "fields": [
                      {
                        "fieldName": "count(property_id)",
                        "displayName": "Count of property_id"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    },
                    "axis": {
                      "title": "Number of Properties"
                    }
                  },
                  "secondary": {
                    "fields": [
                      {
                        "fieldName": "sum(property_units)",
                        "displayName": "Sum of property_units"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    }
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Number of properties with BAL Enabled by BAL Enabled Date"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 13,
            "width": 4,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "698e651a",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "applicant_financial_source_choice",
                      "expression": "`applicant_financial_source_choice`"
                    },
                    {
                      "name": "daily(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"DAY\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "daily(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Week Submission Created"
                  },
                  "displayName": "Week Submission Created"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "applicant_financial_source_choice",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "Both",
                        "color": "#00A972"
                      },
                      {
                        "value": "Connected Payroll Only",
                        "color": "#99DDB4"
                      },
                      {
                        "value": "Document Upload Only",
                        "color": "#077A9D"
                      }
                    ]
                  },
                  "displayName": "applicant_financial_source_choice"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "All Submissions with CP Enabled by how Applicants chose to provide their financial information"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 115,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "5477ca06",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "f801b8f0",
                  "fields": [
                    {
                      "name": "cleaned_error",
                      "expression": "`cleaned_error`"
                    },
                    {
                      "name": "weekly(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(fde_submission_id)",
                      "expression": "COUNT(`fde_submission_id`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`is_calculated_status` IN (0)"
                    },
                    {
                      "expression": "`submission_ruling` IN ('CLEAN')"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "area",
              "encodings": {
                "x": {
                  "fieldName": "weekly(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "fde_submission_time"
                },
                "y": {
                  "fieldName": "count(fde_submission_id)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of fde_submission_id"
                },
                "color": {
                  "fieldName": "cleaned_error",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "cleaned_error"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Unique error codes over time, for CLEAN submissions where we didn't calculate income (note: a submission can have multiple errors so could be counted twice)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 55,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "17ca8c59",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "373b2de4",
                  "fields": [
                    {
                      "name": "applicant_name",
                      "expression": "`applicant_name`"
                    },
                    {
                      "name": "property_name",
                      "expression": "`property_name`"
                    },
                    {
                      "name": "company_name",
                      "expression": "`company_name`"
                    },
                    {
                      "name": "report_url",
                      "expression": "`report_url`"
                    },
                    {
                      "name": "folder_url",
                      "expression": "`folder_url`"
                    },
                    {
                      "name": "entry_inserted_at",
                      "expression": "`entry_inserted_at`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "applicant_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100000,
                    "title": "applicant_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "applicant_name"
                  },
                  {
                    "fieldName": "property_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "property_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "property_name"
                  },
                  {
                    "fieldName": "company_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100002,
                    "title": "company_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "company_name"
                  },
                  {
                    "fieldName": "report_url",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100003,
                    "title": "report_url",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "report_url"
                  },
                  {
                    "fieldName": "folder_url",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100004,
                    "title": "folder_url",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "folder_url"
                  },
                  {
                    "fieldName": "entry_inserted_at",
                    "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100005,
                    "title": "entry_inserted_at",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "entry_inserted_at"
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "title": "All Successful Bank Linking Submissions",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 121,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "68a340e6",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "submission_ruling",
                      "expression": "`submission_ruling`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`bank_account_linking_used` IN (0)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "submission_ruling",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "CLEAN",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 3
                        }
                      },
                      {
                        "value": "EDITED",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 4
                        }
                      }
                    ]
                  },
                  "displayName": "submission_ruling"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "When BAL IS NOT used, what is the submission ruling?"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 37,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "f8facef7",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "applicant_source_type",
                      "expression": "`applicant_source_type`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`bank_account_linking_used` IN (1)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "applicant_source_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "applicant_source_type"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "All Submissions with BAL USED by how Applicants chose to provide their financial information"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 43,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "98cccf1f",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "d4886089",
                  "fields": [
                    {
                      "name": "sum(property_units)",
                      "expression": "SUM(`property_units`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "sum(property_units)",
                  "displayName": "Sum of property_units"
                }
              },
              "frame": {
                "title": "Total Number of Units with Bank linking enabled",
                "showTitle": true
              }
            }
          },
          "position": {
            "x": 0,
            "y": 13,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "11f0f00d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "submission_ruling",
                      "expression": "`submission_ruling`"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`bank_account_linking_used` IN (1)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "submission_ruling",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "CLEAN",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 3
                        }
                      },
                      {
                        "value": "EDITED",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 4
                        }
                      },
                      {
                        "value": "PENDING",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 1
                        }
                      }
                    ]
                  },
                  "displayName": "submission_ruling"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "When BAL IS used, what is the submission ruling?"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 37,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "12c2c2dc",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "5d3a419b",
                  "fields": [
                    {
                      "name": "daily(day)",
                      "expression": "DATE_TRUNC(\"DAY\", `day`)"
                    },
                    {
                      "name": "sum(converted_pct)",
                      "expression": "SUM(`converted_pct`)"
                    },
                    {
                      "name": "sum(used_bal_pct)",
                      "expression": "SUM(`used_bal_pct`)"
                    },
                    {
                      "name": "sum(used_cp_pct)",
                      "expression": "SUM(`used_cp_pct`)"
                    }
                  ],
                  "parameterValues": [
                    {
                      "keyword": "start_date",
                      "selection": {
                        "values": {
                          "dataType": "DATE",
                          "values": [
                            {
                              "value": "2025-06-01T00:00:00.000"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "keyword": "end_date",
                      "selection": {
                        "values": {
                          "dataType": "DATE",
                          "values": [
                            {
                              "value": "now/d"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "keyword": "bal_enabled_properties",
                      "selection": {
                        "values": {
                          "dataType": "INTEGER",
                          "values": [
                            {
                              "value": "1"
                            }
                          ]
                        }
                      }
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "daily(day)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "day"
                },
                "y": {
                  "scale": {
                    "type": "quantitative"
                  },
                  "fields": [
                    {
                      "fieldName": "sum(converted_pct)",
                      "displayName": "Percent Converted"
                    },
                    {
                      "fieldName": "sum(used_bal_pct)",
                      "displayName": "Percent who Used BAL"
                    },
                    {
                      "fieldName": "sum(used_cp_pct)",
                      "displayName": "Percent who Used CP"
                    }
                  ]
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Conversion Rates (BAL-Enabled Properties Only)"
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 1
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              }
            }
          },
          "position": {
            "x": 2,
            "y": 25,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "386eab04",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "5d3a419b",
                  "fields": [
                    {
                      "name": "daily(day)",
                      "expression": "DATE_TRUNC(\"DAY\", `day`)"
                    },
                    {
                      "name": "sum(converted_pct)",
                      "expression": "SUM(`converted_pct`)"
                    },
                    {
                      "name": "sum(used_bal_pct)",
                      "expression": "SUM(`used_bal_pct`)"
                    },
                    {
                      "name": "sum(used_cp_pct)",
                      "expression": "SUM(`used_cp_pct`)"
                    }
                  ],
                  "parameterValues": [
                    {
                      "keyword": "start_date",
                      "selection": {
                        "values": {
                          "dataType": "DATE",
                          "values": [
                            {
                              "value": "2025-06-01T00:00:00.000"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "keyword": "end_date",
                      "selection": {
                        "values": {
                          "dataType": "DATE",
                          "values": [
                            {
                              "value": "now/d"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "keyword": "bal_enabled_properties",
                      "selection": {
                        "values": {
                          "dataType": "INTEGER",
                          "values": [
                            {
                              "value": "2"
                            }
                          ]
                        }
                      }
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "daily(day)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "day"
                },
                "y": {
                  "scale": {
                    "type": "quantitative"
                  },
                  "fields": [
                    {
                      "fieldName": "sum(converted_pct)",
                      "displayName": "Percent Converted"
                    },
                    {
                      "fieldName": "sum(used_bal_pct)",
                      "displayName": "Percent who Used BAL"
                    },
                    {
                      "fieldName": "sum(used_cp_pct)",
                      "displayName": "Percent who Used CP"
                    }
                  ]
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Conversion Rates (All Properties)"
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 1
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              }
            }
          },
          "position": {
            "x": 0,
            "y": 25,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "09dbd1b0",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "5d3a419b",
                  "fields": [
                    {
                      "name": "daily(day)",
                      "expression": "DATE_TRUNC(\"DAY\", `day`)"
                    },
                    {
                      "name": "sum(converted_pct)",
                      "expression": "SUM(`converted_pct`)"
                    },
                    {
                      "name": "sum(used_bal_pct)",
                      "expression": "SUM(`used_bal_pct`)"
                    },
                    {
                      "name": "sum(used_cp_pct)",
                      "expression": "SUM(`used_cp_pct`)"
                    }
                  ],
                  "parameterValues": [
                    {
                      "keyword": "start_date",
                      "selection": {
                        "values": {
                          "dataType": "DATE",
                          "values": [
                            {
                              "value": "2025-06-01T00:00:00.000"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "keyword": "end_date",
                      "selection": {
                        "values": {
                          "dataType": "DATE",
                          "values": [
                            {
                              "value": "now/d"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "keyword": "bal_enabled_properties",
                      "selection": {
                        "values": {
                          "dataType": "INTEGER",
                          "values": [
                            {
                              "value": "0"
                            }
                          ]
                        }
                      }
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "daily(day)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "day"
                },
                "y": {
                  "scale": {
                    "type": "quantitative"
                  },
                  "fields": [
                    {
                      "fieldName": "sum(converted_pct)",
                      "displayName": "Percent Converted"
                    },
                    {
                      "fieldName": "sum(used_bal_pct)",
                      "displayName": "Percent who Used BAL"
                    },
                    {
                      "fieldName": "sum(used_cp_pct)",
                      "displayName": "Percent who Used CP"
                    }
                  ]
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Conversion Rates (BAL-Disabled Properties Only)"
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 1
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              }
            }
          },
          "position": {
            "x": 4,
            "y": 25,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "ea03fe21",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "is_calculated_status",
                      "expression": "`is_calculated_status`"
                    },
                    {
                      "name": "weekly(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`bank_account_linking_used` IN (1)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Week Submission Created"
                  },
                  "displayName": "Week Submission Created"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Num Submissions"
                  },
                  "displayName": "Num Submissions"
                },
                "color": {
                  "fieldName": "is_calculated_status",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": 1,
                        "color": "#00A972"
                      },
                      {
                        "value": 0,
                        "color": "#FF3621"
                      }
                    ]
                  },
                  "displayName": "is_calculated_status"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "IV Calculation Success Rate (w/ Bank Linking)"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 67,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "3d8b14e9",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "is_calculated_status",
                      "expression": "`is_calculated_status`"
                    },
                    {
                      "name": "weekly(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`connected_payroll_used` IN (1)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Week Submission Created"
                  },
                  "displayName": "Week Submission Created"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Num Submissions"
                  },
                  "displayName": "Num Submissions"
                },
                "color": {
                  "fieldName": "is_calculated_status",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": 1,
                        "color": "#00A972"
                      },
                      {
                        "value": 0,
                        "color": "#FF3621"
                      }
                    ]
                  },
                  "displayName": "is_calculated_status"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "IV Calculation Success Rate (w/ Connected Payroll)"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 67,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "469d451b",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "is_calculated_status",
                      "expression": "`is_calculated_status`"
                    },
                    {
                      "name": "weekly(fde_submission_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `fde_submission_time`)"
                    },
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    }
                  ],
                  "filters": [
                    {
                      "expression": "`bank_account_linking_used` IN (0)"
                    },
                    {
                      "expression": "`connected_payroll_used` IN (0)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(fde_submission_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "Week Submission Created"
                  },
                  "displayName": "Week Submission Created"
                },
                "y": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "axis": {
                    "title": "Num Submissions"
                  },
                  "displayName": "Num Submissions"
                },
                "color": {
                  "fieldName": "is_calculated_status",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": 0,
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 4
                        }
                      },
                      {
                        "value": 1,
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 3
                        }
                      }
                    ]
                  },
                  "displayName": "Calculation Success"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "IV Calculation Success Rate (Document Only)"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 67,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "bd2414ad",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "828b90ff",
                  "fields": [
                    {
                      "name": "daily(time_period)",
                      "expression": "DATE_TRUNC(\"DAY\", `time_period`)"
                    },
                    {
                      "name": "num_submissions_with_BAL",
                      "expression": "`num_submissions_with_BAL`"
                    },
                    {
                      "name": "num_submissions_NO_BAL",
                      "expression": "`num_submissions_NO_BAL`"
                    },
                    {
                      "name": "perc_submissions_with_bank_linking",
                      "expression": "`perc_submissions_with_bank_linking`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "combo",
              "encodings": {
                "x": {
                  "fieldName": "daily(time_period)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "day"
                  },
                  "displayName": "day"
                },
                "label": {
                  "show": true
                },
                "y": {
                  "primary": {
                    "fields": [
                      {
                        "fieldName": "num_submissions_with_BAL",
                        "displayName": "BAL Used"
                      },
                      {
                        "fieldName": "num_submissions_NO_BAL",
                        "displayName": "No BAL Used"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    },
                    "axis": {
                      "title": "Number of Submissions"
                    }
                  },
                  "secondary": {
                    "fields": [
                      {
                        "fieldName": "perc_submissions_with_bank_linking",
                        "displayName": "% with BAL"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    },
                    "format": {
                      "type": "number-percent",
                      "decimalPlaces": {
                        "type": "max",
                        "places": 2
                      }
                    },
                    "axis": {
                      "title": "% Submissions with BAL"
                    }
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Percent of Submissions with Bank Linking by DAY",
                "showDescription": false
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 2
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 5
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 6
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              }
            }
          },
          "position": {
            "x": 0,
            "y": 19,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "8d7326ef",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "828b90ff",
                  "fields": [
                    {
                      "name": "weekly(time_period)",
                      "expression": "DATE_TRUNC(\"WEEK\", `time_period`)"
                    },
                    {
                      "name": "sum(num_submissions_with_BAL)",
                      "expression": "SUM(`num_submissions_with_BAL`)"
                    },
                    {
                      "name": "sum(num_submissions_NO_BAL)",
                      "expression": "SUM(`num_submissions_NO_BAL`)"
                    },
                    {
                      "name": "avg(perc_submissions_with_bank_linking)",
                      "expression": "AVG(`perc_submissions_with_bank_linking`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "combo",
              "encodings": {
                "label": {
                  "show": true
                },
                "y": {
                  "primary": {
                    "fields": [
                      {
                        "fieldName": "sum(num_submissions_with_BAL)",
                        "displayName": "BAL Used"
                      },
                      {
                        "fieldName": "sum(num_submissions_NO_BAL)",
                        "displayName": "No BAL Used"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    },
                    "axis": {
                      "title": "Number of Submissions"
                    }
                  },
                  "secondary": {
                    "fields": [
                      {
                        "fieldName": "avg(perc_submissions_with_bank_linking)",
                        "displayName": "% with BAL"
                      }
                    ],
                    "scale": {
                      "type": "quantitative"
                    },
                    "format": {
                      "type": "number-percent",
                      "decimalPlaces": {
                        "type": "max",
                        "places": 2
                      }
                    },
                    "axis": {
                      "title": "% Submissions with BAL"
                    }
                  }
                },
                "x": {
                  "fieldName": "weekly(time_period)",
                  "scale": {
                    "type": "temporal"
                  },
                  "axis": {
                    "title": "day"
                  },
                  "displayName": "day"
                }
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 3
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 4
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 2
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 5
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 6
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Percent of Submissions with Bank Linking by WEEK",
                "showDescription": false
              }
            }
          },
          "position": {
            "x": 3,
            "y": 19,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "053ef146",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "a8e55c9a",
                  "fields": [
                    {
                      "name": "count(*)",
                      "expression": "COUNT(`*`)"
                    },
                    {
                      "name": "submission_ruling",
                      "expression": "`submission_ruling`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "count(*)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of Records"
                },
                "color": {
                  "fieldName": "submission_ruling",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "CLEAN",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 3
                        }
                      },
                      {
                        "value": "EDITED",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 4
                        }
                      },
                      {
                        "value": "PENDING",
                        "color": {
                          "themeColorType": "visualizationColors",
                          "position": 1
                        }
                      }
                    ]
                  },
                  "displayName": "submission_ruling"
                },
                "label": {
                  "show": true
                }
              },
              "frame": {
                "showTitle": true,
                "title": "When BAL is enabled for a property, what is the submission ruling?"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 37,
            "width": 2,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "b6dad898",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "7347f58e",
                  "fields": [
                    {
                      "name": "weekly(week)",
                      "expression": "DATE_TRUNC(\"WEEK\", `week`)"
                    },
                    {
                      "name": "sum(converted_pct)",
                      "expression": "SUM(`converted_pct`)"
                    },
                    {
                      "name": "sum(used_bal_pct)",
                      "expression": "SUM(`used_bal_pct`)"
                    },
                    {
                      "name": "sum(used_cp_pct)",
                      "expression": "SUM(`used_cp_pct`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "weekly(week)",
                  "displayName": "day",
                  "scale": {
                    "type": "temporal"
                  }
                },
                "y": {
                  "scale": {
                    "type": "quantitative"
                  },
                  "fields": [
                    {
                      "fieldName": "sum(converted_pct)",
                      "displayName": "Percent Converted"
                    },
                    {
                      "fieldName": "sum(used_bal_pct)",
                      "displayName": "Percent who Used BAL"
                    },
                    {
                      "fieldName": "sum(used_cp_pct)",
                      "displayName": "Percent who Used CP"
                    }
                  ]
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Conversion Rates (BAL-Enabled Properties Only) - WEEKLY"
              },
              "mark": {
                "colors": [
                  {
                    "themeColorType": "visualizationColors",
                    "position": 1
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 7
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 8
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 9
                  },
                  {
                    "themeColorType": "visualizationColors",
                    "position": 10
                  }
                ]
              }
            }
          },
          "position": {
            "x": 2,
            "y": 31,
            "width": 2,
            "height": 6
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "72132e8f",
      "displayName": "Institution Breakdown",
      "layout": [
        {
          "widget": {
            "name": "2091d0aa",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "934d8329",
                  "fields": [
                    {
                      "name": "sum(total)",
                      "expression": "SUM(`total`)"
                    },
                    {
                      "name": "institution_name",
                      "expression": "`institution_name`"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "pie",
              "encodings": {
                "angle": {
                  "fieldName": "sum(total)",
                  "scale": {
                    "type": "quantitative"
                  }
                },
                "color": {
                  "fieldName": "institution_name",
                  "scale": {
                    "type": "categorical"
                  }
                },
                "label": {
                  "show": true
                }
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 4,
            "height": 12
          }
        },
        {
          "widget": {
            "name": "property-name",
            "queries": [
              {
                "name": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e6b8c24bbf824cd27e0_property_name",
                "query": {
                  "datasetName": "e407c520",
                  "fields": [
                    {
                      "name": "property_name",
                      "expression": "`property_name`"
                    },
                    {
                      "name": "property_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0d139575d1165b957c32d24010404_property",
                "query": {
                  "datasetName": "934d8329",
                  "parameters": [
                    {
                      "name": "property",
                      "keyword": "property"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-multi-select",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "property",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0d139575d1165b957c32d24010404_property"
                  },
                  {
                    "fieldName": "property_name",
                    "queryName": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e6b8c24bbf824cd27e0_property_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Property Name"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 0,
            "width": 2,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "0134d7ab",
            "queries": [
              {
                "name": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e8e9377270b70b5c8b5_company_name",
                "query": {
                  "datasetName": "bcebd0d5",
                  "fields": [
                    {
                      "name": "company_name",
                      "expression": "`company_name`"
                    },
                    {
                      "name": "company_name_associativity",
                      "expression": "COUNT_IF(`associative_filter_predicate_group`)"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0d139575d1165b957c32d24010404_company",
                "query": {
                  "datasetName": "934d8329",
                  "parameters": [
                    {
                      "name": "company",
                      "keyword": "company"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-multi-select",
              "encodings": {
                "fields": [
                  {
                    "fieldName": "company_name",
                    "queryName": "dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f04c8a3ba31e8e9377270b70b5c8b5_company_name"
                  },
                  {
                    "parameterName": "company",
                    "queryName": "parameter_dashboards/01f04c8a3ba3179283d5281bd471fe5e/datasets/01f0d139575d1165b957c32d24010404_company"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Company Name"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 2,
            "width": 2,
            "height": 2
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ],
  "uiSettings": {
    "theme": {
      "widgetHeaderAlignment": "ALIGNMENT_UNSPECIFIED"
    }
  }
}
